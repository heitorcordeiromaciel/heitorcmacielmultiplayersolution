<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>module Prism::Relocation - Documentation for Ruby 3.4</title>

  <meta name="keywords" content="ruby,module,Prism::Relocation">

    <meta name="description" content="module Prism::Relocation: Prism parses deterministically for the same input. This provides a nice property that is exposed through the #node_id API on nodes.">


<link rel="canonical" href="https://docs.ruby-lang.org/en/3.4/Prism/Relocation.html">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/navigation.js" defer></script>
<script src="../js/search.js" defer></script>
<script src="../js/search_index.js" defer></script>
<script src="../js/searcher.js" defer></script>
<script src="../js/darkfish.js" defer></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="module">
<div id="navigation-toggle" role="button" tabindex="0" aria-label="Toggle sidebar" aria-expanded="true" aria-controls="navigation">
  <span aria-hidden="true">&#9776;</span>
</div>


<nav id="navigation" role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search (/) for a class, method, ..." spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
  
  
  
  
  
  <div class="nav-section">
    <h3>Class Methods</h3>
    <ul class="link-list" role="directory">
      <li ><a href="#method-c-filepath">filepath</a></li>
      <li ><a href="#method-c-string">string</a></li>
    </ul>
  </div>





  <footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.14.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

</nav>

<main role="main" aria-labelledby="module-Prism::Relocation">
  
  
    <ol role="navigation" aria-label="breadcrumb" class="breadcrumb">
      
      <li>
        
        <a href="../Prism.html">Prism</a><span>::</span>
        
      </li>
      
      <li>
        
        <span>Relocation</span>
        
      </li>
      
    </ol>
  

  <h1 id="module-Prism::Relocation" class="anchor-link module">
    module Prism::Relocation
  </h1>

  <section class="description">
    
<p><a href="../Prism.html"><code>Prism</code></a> parses deterministically for the same input. This provides a nice property that is exposed through the node_id API on nodes. Effectively this means that for the same input, these values will remain consistent every time the source is parsed. This means we can reparse the source same with a</p>

<p>node_id value and find the exact same node again.</p>

<p>The <a href="Relocation.html"><code>Relocation</code></a> module provides an API around this property. It allows you to “save” nodes and locations using a minimal amount of memory (just the node_id and a field identifier) and then reify them later.</p>

  </section>

  <section id="5Buntitled-5D" class="documentation-section anchor-link">





     <section id="public-class-5Buntitled-5D-method-details" class="method-section anchor-link">
       <header>
         <h3>Public Class Methods</h3>
       </header>

      <div id="method-c-filepath" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-c-filepath" title="Link to this method">
                <span class="method-name">filepath</span>
                <span class="method-args">(value)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="filepath-source">
            <pre><span class="ruby-comment"># File lib/prism/relocation.rb, line 496</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">filepath</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-constant">Repository</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">SourceFilepath</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Create a new repository for the given filepath.</p>
        </div>


      </div>

      <div id="method-c-string" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-c-string" title="Link to this method">
                <span class="method-name">string</span>
                <span class="method-args">(value)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="string-source">
            <pre><span class="ruby-comment"># File lib/prism/relocation.rb, line 501</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">string</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-constant">Repository</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">SourceString</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Create a new repository for the given string.</p>
        </div>


      </div>

    </section>

  </section>
</main>

