<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>class Prism::Translation::Parser::Compiler - Documentation for Ruby 3.4</title>

  <meta name="keywords" content="ruby,class,Prism::Translation::Parser::Compiler">

    <meta name="description" content="class Prism::Translation::Parser::Compiler: parser gem&#39;s syntax tree.">


<link rel="canonical" href="https://docs.ruby-lang.org/en/3.4/Prism/Translation/Parser/Compiler.html">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../";
  var index_rel_prefix = "../../../";
</script>

<script src="../../../js/navigation.js" defer></script>
<script src="../../../js/search.js" defer></script>
<script src="../../../js/search_index.js" defer></script>
<script src="../../../js/searcher.js" defer></script>
<script src="../../../js/darkfish.js" defer></script>

<link href="../../../css/fonts.css" rel="stylesheet">
<link href="../../../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="class">
<div id="navigation-toggle" role="button" tabindex="0" aria-label="Toggle sidebar" aria-expanded="true" aria-controls="navigation">
  <span aria-hidden="true">&#9776;</span>
</div>


<nav id="navigation" role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search (/) for a class, method, ..." spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
  
  <div id="parent-class-section" class="nav-section">
  <h3>Ancestors</h3>
  <ul><li><a href="../../Compiler.html">Prism::Compiler</a><ul><li>Visitor</li></ul></li></ul>
</div>

  
  
  
  <div class="nav-section">
    <h3>Class Methods</h3>
    <ul class="link-list" role="directory">
      <li ><a href="#method-c-new">new</a></li>
    </ul>
  </div>



  <div class="nav-section">
    <h3>Instance Methods</h3>
    <ul class="link-list" role="directory">
      <li ><a href="#method-i-copy_compiler">copy_compiler</a></li>
      <li ><a href="#method-i-find_forwarding">find_forwarding</a></li>
      <li ><a href="#method-i-multi_target_elements">multi_target_elements</a></li>
      <li ><a href="#method-i-numeric_negate">numeric_negate</a></li>
      <li ><a href="#method-i-procarg0-3F">procarg0?</a></li>
      <li ><a href="#method-i-srange">srange</a></li>
      <li ><a href="#method-i-srange_find">srange_find</a></li>
      <li ><a href="#method-i-srange_offsets">srange_offsets</a></li>
      <li ><a href="#method-i-string_nodes_from_interpolation">string_nodes_from_interpolation</a></li>
      <li ><a href="#method-i-string_nodes_from_line_continuations">string_nodes_from_line_continuations</a></li>
      <li ><a href="#method-i-token">token</a></li>
      <li ><a href="#method-i-visit_alias_global_variable_node">visit_alias_global_variable_node</a></li>
      <li ><a href="#method-i-visit_alias_method_node">visit_alias_method_node</a></li>
      <li ><a href="#method-i-visit_alternation_pattern_node">visit_alternation_pattern_node</a></li>
      <li ><a href="#method-i-visit_and_node">visit_and_node</a></li>
      <li ><a href="#method-i-visit_arguments_node">visit_arguments_node</a></li>
      <li ><a href="#method-i-visit_array_node">visit_array_node</a></li>
      <li ><a href="#method-i-visit_array_pattern_node">visit_array_pattern_node</a></li>
      <li ><a href="#method-i-visit_assoc_node">visit_assoc_node</a></li>
      <li ><a href="#method-i-visit_assoc_splat_node">visit_assoc_splat_node</a></li>
      <li ><a href="#method-i-visit_back_reference_read_node">visit_back_reference_read_node</a></li>
      <li ><a href="#method-i-visit_begin_node">visit_begin_node</a></li>
      <li ><a href="#method-i-visit_block">visit_block</a></li>
      <li ><a href="#method-i-visit_block_argument_node">visit_block_argument_node</a></li>
      <li ><a href="#method-i-visit_block_local_variable_node">visit_block_local_variable_node</a></li>
      <li ><a href="#method-i-visit_block_node">visit_block_node</a></li>
      <li ><a href="#method-i-visit_block_parameter_node">visit_block_parameter_node</a></li>
      <li ><a href="#method-i-visit_block_parameters_node">visit_block_parameters_node</a></li>
      <li ><a href="#method-i-visit_break_node">visit_break_node</a></li>
      <li ><a href="#method-i-visit_call_and_write_node">visit_call_and_write_node</a></li>
      <li ><a href="#method-i-visit_call_node">visit_call_node</a></li>
      <li ><a href="#method-i-visit_call_operator_write_node">visit_call_operator_write_node</a></li>
      <li ><a href="#method-i-visit_call_or_write_node">visit_call_or_write_node</a></li>
      <li ><a href="#method-i-visit_call_target_node">visit_call_target_node</a></li>
      <li ><a href="#method-i-visit_capture_pattern_node">visit_capture_pattern_node</a></li>
      <li ><a href="#method-i-visit_case_match_node">visit_case_match_node</a></li>
      <li ><a href="#method-i-visit_case_node">visit_case_node</a></li>
      <li ><a href="#method-i-visit_class_node">visit_class_node</a></li>
      <li ><a href="#method-i-visit_class_variable_and_write_node">visit_class_variable_and_write_node</a></li>
      <li ><a href="#method-i-visit_class_variable_operator_write_node">visit_class_variable_operator_write_node</a></li>
      <li ><a href="#method-i-visit_class_variable_or_write_node">visit_class_variable_or_write_node</a></li>
      <li ><a href="#method-i-visit_class_variable_read_node">visit_class_variable_read_node</a></li>
      <li ><a href="#method-i-visit_class_variable_target_node">visit_class_variable_target_node</a></li>
      <li ><a href="#method-i-visit_class_variable_write_node">visit_class_variable_write_node</a></li>
      <li ><a href="#method-i-visit_constant_and_write_node">visit_constant_and_write_node</a></li>
      <li ><a href="#method-i-visit_constant_operator_write_node">visit_constant_operator_write_node</a></li>
      <li ><a href="#method-i-visit_constant_or_write_node">visit_constant_or_write_node</a></li>
      <li ><a href="#method-i-visit_constant_path_and_write_node">visit_constant_path_and_write_node</a></li>
      <li ><a href="#method-i-visit_constant_path_node">visit_constant_path_node</a></li>
      <li ><a href="#method-i-visit_constant_path_operator_write_node">visit_constant_path_operator_write_node</a></li>
      <li ><a href="#method-i-visit_constant_path_or_write_node">visit_constant_path_or_write_node</a></li>
      <li ><a href="#method-i-visit_constant_path_target_node">visit_constant_path_target_node</a></li>
      <li ><a href="#method-i-visit_constant_path_write_node">visit_constant_path_write_node</a></li>
      <li ><a href="#method-i-visit_constant_read_node">visit_constant_read_node</a></li>
      <li ><a href="#method-i-visit_constant_target_node">visit_constant_target_node</a></li>
      <li ><a href="#method-i-visit_constant_write_node">visit_constant_write_node</a></li>
      <li ><a href="#method-i-visit_def_node">visit_def_node</a></li>
      <li ><a href="#method-i-visit_defined_node">visit_defined_node</a></li>
      <li ><a href="#method-i-visit_else_node">visit_else_node</a></li>
      <li ><a href="#method-i-visit_embedded_statements_node">visit_embedded_statements_node</a></li>
      <li ><a href="#method-i-visit_embedded_variable_node">visit_embedded_variable_node</a></li>
      <li ><a href="#method-i-visit_ensure_node">visit_ensure_node</a></li>
      <li ><a href="#method-i-visit_false_node">visit_false_node</a></li>
      <li ><a href="#method-i-visit_find_pattern_node">visit_find_pattern_node</a></li>
      <li ><a href="#method-i-visit_flip_flop_node">visit_flip_flop_node</a></li>
      <li ><a href="#method-i-visit_float_node">visit_float_node</a></li>
      <li ><a href="#method-i-visit_for_node">visit_for_node</a></li>
      <li ><a href="#method-i-visit_forwarding_arguments_node">visit_forwarding_arguments_node</a></li>
      <li ><a href="#method-i-visit_forwarding_parameter_node">visit_forwarding_parameter_node</a></li>
      <li ><a href="#method-i-visit_forwarding_super_node">visit_forwarding_super_node</a></li>
      <li ><a href="#method-i-visit_global_variable_and_write_node">visit_global_variable_and_write_node</a></li>
      <li ><a href="#method-i-visit_global_variable_operator_write_node">visit_global_variable_operator_write_node</a></li>
      <li ><a href="#method-i-visit_global_variable_or_write_node">visit_global_variable_or_write_node</a></li>
      <li ><a href="#method-i-visit_global_variable_read_node">visit_global_variable_read_node</a></li>
      <li ><a href="#method-i-visit_global_variable_target_node">visit_global_variable_target_node</a></li>
      <li ><a href="#method-i-visit_global_variable_write_node">visit_global_variable_write_node</a></li>
      <li ><a href="#method-i-visit_hash_node">visit_hash_node</a></li>
      <li ><a href="#method-i-visit_hash_pattern_node">visit_hash_pattern_node</a></li>
      <li ><a href="#method-i-visit_heredoc">visit_heredoc</a></li>
      <li ><a href="#method-i-visit_if_node">visit_if_node</a></li>
      <li ><a href="#method-i-visit_imaginary_node">visit_imaginary_node</a></li>
      <li ><a href="#method-i-visit_implicit_node">visit_implicit_node</a></li>
      <li ><a href="#method-i-visit_implicit_rest_node">visit_implicit_rest_node</a></li>
      <li ><a href="#method-i-visit_in_node">visit_in_node</a></li>
      <li ><a href="#method-i-visit_index_and_write_node">visit_index_and_write_node</a></li>
      <li ><a href="#method-i-visit_index_operator_write_node">visit_index_operator_write_node</a></li>
      <li ><a href="#method-i-visit_index_or_write_node">visit_index_or_write_node</a></li>
      <li ><a href="#method-i-visit_index_target_node">visit_index_target_node</a></li>
      <li ><a href="#method-i-visit_instance_variable_and_write_node">visit_instance_variable_and_write_node</a></li>
      <li ><a href="#method-i-visit_instance_variable_operator_write_node">visit_instance_variable_operator_write_node</a></li>
      <li ><a href="#method-i-visit_instance_variable_or_write_node">visit_instance_variable_or_write_node</a></li>
      <li ><a href="#method-i-visit_instance_variable_read_node">visit_instance_variable_read_node</a></li>
      <li ><a href="#method-i-visit_instance_variable_target_node">visit_instance_variable_target_node</a></li>
      <li ><a href="#method-i-visit_instance_variable_write_node">visit_instance_variable_write_node</a></li>
      <li ><a href="#method-i-visit_integer_node">visit_integer_node</a></li>
      <li ><a href="#method-i-visit_interpolated_match_last_line_node">visit_interpolated_match_last_line_node</a></li>
      <li ><a href="#method-i-visit_interpolated_regular_expression_node">visit_interpolated_regular_expression_node</a></li>
      <li ><a href="#method-i-visit_interpolated_string_node">visit_interpolated_string_node</a></li>
      <li ><a href="#method-i-visit_interpolated_symbol_node">visit_interpolated_symbol_node</a></li>
      <li ><a href="#method-i-visit_interpolated_x_string_node">visit_interpolated_x_string_node</a></li>
      <li ><a href="#method-i-visit_it_local_variable_read_node">visit_it_local_variable_read_node</a></li>
      <li ><a href="#method-i-visit_it_parameters_node">visit_it_parameters_node</a></li>
      <li ><a href="#method-i-visit_keyword_hash_node">visit_keyword_hash_node</a></li>
      <li ><a href="#method-i-visit_keyword_rest_parameter_node">visit_keyword_rest_parameter_node</a></li>
      <li ><a href="#method-i-visit_lambda_node">visit_lambda_node</a></li>
      <li ><a href="#method-i-visit_local_variable_and_write_node">visit_local_variable_and_write_node</a></li>
      <li ><a href="#method-i-visit_local_variable_operator_write_node">visit_local_variable_operator_write_node</a></li>
      <li ><a href="#method-i-visit_local_variable_or_write_node">visit_local_variable_or_write_node</a></li>
      <li ><a href="#method-i-visit_local_variable_read_node">visit_local_variable_read_node</a></li>
      <li ><a href="#method-i-visit_local_variable_target_node">visit_local_variable_target_node</a></li>
      <li ><a href="#method-i-visit_local_variable_write_node">visit_local_variable_write_node</a></li>
      <li ><a href="#method-i-visit_match_last_line_node">visit_match_last_line_node</a></li>
      <li ><a href="#method-i-visit_match_predicate_node">visit_match_predicate_node</a></li>
      <li ><a href="#method-i-visit_match_required_node">visit_match_required_node</a></li>
      <li ><a href="#method-i-visit_match_write_node">visit_match_write_node</a></li>
      <li ><a href="#method-i-visit_missing_node">visit_missing_node</a></li>
      <li ><a href="#method-i-visit_module_node">visit_module_node</a></li>
      <li ><a href="#method-i-visit_multi_target_node">visit_multi_target_node</a></li>
      <li ><a href="#method-i-visit_multi_write_node">visit_multi_write_node</a></li>
      <li ><a href="#method-i-visit_next_node">visit_next_node</a></li>
      <li ><a href="#method-i-visit_nil_node">visit_nil_node</a></li>
      <li ><a href="#method-i-visit_no_keywords_parameter_node">visit_no_keywords_parameter_node</a></li>
      <li ><a href="#method-i-visit_numbered_parameters_node">visit_numbered_parameters_node</a></li>
      <li ><a href="#method-i-visit_numbered_reference_read_node">visit_numbered_reference_read_node</a></li>
      <li ><a href="#method-i-visit_numeric">visit_numeric</a></li>
      <li ><a href="#method-i-visit_optional_keyword_parameter_node">visit_optional_keyword_parameter_node</a></li>
      <li ><a href="#method-i-visit_optional_parameter_node">visit_optional_parameter_node</a></li>
      <li ><a href="#method-i-visit_or_node">visit_or_node</a></li>
      <li ><a href="#method-i-visit_parameters_node">visit_parameters_node</a></li>
      <li ><a href="#method-i-visit_parentheses_node">visit_parentheses_node</a></li>
      <li ><a href="#method-i-visit_pinned_expression_node">visit_pinned_expression_node</a></li>
      <li ><a href="#method-i-visit_pinned_variable_node">visit_pinned_variable_node</a></li>
      <li ><a href="#method-i-visit_post_execution_node">visit_post_execution_node</a></li>
      <li ><a href="#method-i-visit_pre_execution_node">visit_pre_execution_node</a></li>
      <li ><a href="#method-i-visit_program_node">visit_program_node</a></li>
      <li ><a href="#method-i-visit_range_node">visit_range_node</a></li>
      <li ><a href="#method-i-visit_rational_node">visit_rational_node</a></li>
      <li ><a href="#method-i-visit_redo_node">visit_redo_node</a></li>
      <li ><a href="#method-i-visit_regular_expression_node">visit_regular_expression_node</a></li>
      <li ><a href="#method-i-visit_required_keyword_parameter_node">visit_required_keyword_parameter_node</a></li>
      <li ><a href="#method-i-visit_required_parameter_node">visit_required_parameter_node</a></li>
      <li ><a href="#method-i-visit_rescue_modifier_node">visit_rescue_modifier_node</a></li>
      <li ><a href="#method-i-visit_rescue_node">visit_rescue_node</a></li>
      <li ><a href="#method-i-visit_rest_parameter_node">visit_rest_parameter_node</a></li>
      <li ><a href="#method-i-visit_retry_node">visit_retry_node</a></li>
      <li ><a href="#method-i-visit_return_node">visit_return_node</a></li>
      <li ><a href="#method-i-visit_self_node">visit_self_node</a></li>
      <li ><a href="#method-i-visit_shareable_constant_node">visit_shareable_constant_node</a></li>
      <li ><a href="#method-i-visit_singleton_class_node">visit_singleton_class_node</a></li>
      <li ><a href="#method-i-visit_source_encoding_node">visit_source_encoding_node</a></li>
      <li ><a href="#method-i-visit_source_file_node">visit_source_file_node</a></li>
      <li ><a href="#method-i-visit_source_line_node">visit_source_line_node</a></li>
      <li ><a href="#method-i-visit_splat_node">visit_splat_node</a></li>
      <li ><a href="#method-i-visit_statements_node">visit_statements_node</a></li>
      <li ><a href="#method-i-visit_string_node">visit_string_node</a></li>
      <li ><a href="#method-i-visit_super_node">visit_super_node</a></li>
      <li ><a href="#method-i-visit_symbol_node">visit_symbol_node</a></li>
      <li ><a href="#method-i-visit_true_node">visit_true_node</a></li>
      <li ><a href="#method-i-visit_undef_node">visit_undef_node</a></li>
      <li ><a href="#method-i-visit_unless_node">visit_unless_node</a></li>
      <li ><a href="#method-i-visit_until_node">visit_until_node</a></li>
      <li ><a href="#method-i-visit_when_node">visit_when_node</a></li>
      <li ><a href="#method-i-visit_while_node">visit_while_node</a></li>
      <li ><a href="#method-i-visit_x_string_node">visit_x_string_node</a></li>
      <li ><a href="#method-i-visit_yield_node">visit_yield_node</a></li>
      <li ><a href="#method-i-within_pattern">within_pattern</a></li>
    </ul>
  </div>



  <footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.14.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

</nav>

<main role="main" aria-labelledby="class-Prism::Translation::Parser::Compiler">
  
  
    <ol role="navigation" aria-label="breadcrumb" class="breadcrumb">
      
      <li>
        
        <a href="../../../Prism.html">Prism</a><span>::</span>
        
      </li>
      
      <li>
        
        <a href="../../../Prism/Translation.html">Translation</a><span>::</span>
        
      </li>
      
      <li>
        
        <a href="../../../Prism/Translation/Parser.html">Parser</a><span>::</span>
        
      </li>
      
      <li>
        
        <span>Compiler</span>
        
      </li>
      
    </ol>
  

  <h1 id="class-Prism::Translation::Parser::Compiler" class="anchor-link class">
    class Prism::Translation::Parser::Compiler
  </h1>

  <section class="description">
    
<p>A visitor that knows how to convert a prism syntax tree into the whitequark/parser gemâ€™s syntax tree.</p>

  </section>

  <section id="5Buntitled-5D" class="documentation-section anchor-link">


    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
        <dt id="Range">Range
        <dd>
          <p>Locations in the parser gem AST are generated using this class. We store a reference to its constant to make it slightly faster to look up.</p>
      </dl>
    </section>

    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      <div id="attribute-i-builder" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-builder" title="Link to this attribute">
            <span class="method-name">builder</span>
            <span class="attribute-access-type">[R]</span>
          </a>
        </div>

        <div class="method-description">
        <p>The Parser::Builders::Default instance that is being used to build the AST.</p>
        </div>
      </div>
      <div id="attribute-i-forwarding" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-forwarding" title="Link to this attribute">
            <span class="method-name">forwarding</span>
            <span class="attribute-access-type">[R]</span>
          </a>
        </div>

        <div class="method-description">
        <p>The types of values that can be forwarded in the current scope.</p>
        </div>
      </div>
      <div id="attribute-i-in_destructure" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-in_destructure" title="Link to this attribute">
            <span class="method-name">in_destructure</span>
            <span class="attribute-access-type">[R]</span>
          </a>
        </div>

        <div class="method-description">
        <p>Whether or not the current node is in a destructure.</p>
        </div>
      </div>
      <div id="attribute-i-in_pattern" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-in_pattern" title="Link to this attribute">
            <span class="method-name">in_pattern</span>
            <span class="attribute-access-type">[R]</span>
          </a>
        </div>

        <div class="method-description">
        <p>Whether or not the current node is in a pattern.</p>
        </div>
      </div>
      <div id="attribute-i-offset_cache" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-offset_cache" title="Link to this attribute">
            <span class="method-name">offset_cache</span>
            <span class="attribute-access-type">[R]</span>
          </a>
        </div>

        <div class="method-description">
        <p>The offset cache that is used to map between byte and character offsets in the file.</p>
        </div>
      </div>
      <div id="attribute-i-parser" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-parser" title="Link to this attribute">
            <span class="method-name">parser</span>
            <span class="attribute-access-type">[R]</span>
          </a>
        </div>

        <div class="method-description">
        <p>The Parser::Base instance that is being used to build the AST.</p>
        </div>
      </div>
      <div id="attribute-i-source_buffer" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-source_buffer" title="Link to this attribute">
            <span class="method-name">source_buffer</span>
            <span class="attribute-access-type">[R]</span>
          </a>
        </div>

        <div class="method-description">
        <p>The Parser::Source::Buffer instance that is holding a reference to the source code.</p>
        </div>
      </div>
    </section>


     <section id="public-class-5Buntitled-5D-method-details" class="method-section anchor-link">
       <header>
         <h3>Public Class Methods</h3>
       </header>

      <div id="method-c-new" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-c-new" title="Link to this method">
                <span class="method-name">new</span>
                <span class="method-args">(parser, offset_cache, forwarding: [], in_destructure: false, in_pattern: false)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">parser</span>, <span class="ruby-identifier">offset_cache</span>, <span class="ruby-value">forwarding:</span> [], <span class="ruby-value">in_destructure:</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">in_pattern:</span> <span class="ruby-keyword">false</span>)
  <span class="ruby-ivar">@parser</span> = <span class="ruby-identifier">parser</span>
  <span class="ruby-ivar">@builder</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">builder</span>
  <span class="ruby-ivar">@source_buffer</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">source_buffer</span>
  <span class="ruby-ivar">@offset_cache</span> = <span class="ruby-identifier">offset_cache</span>

  <span class="ruby-ivar">@forwarding</span> = <span class="ruby-identifier">forwarding</span>
  <span class="ruby-ivar">@in_destructure</span> = <span class="ruby-identifier">in_destructure</span>
  <span class="ruby-ivar">@in_pattern</span> = <span class="ruby-identifier">in_pattern</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Initialize a new compiler with the given parser, offset cache, and options.</p>
        </div>


      </div>

    </section>

     <section id="public-instance-5Buntitled-5D-method-details" class="method-section anchor-link">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-visit_alias_global_variable_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_alias_global_variable_node" title="Link to this method">
                <span class="method-name">visit_alias_global_variable_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_alias_global_variable_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 59</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_alias_global_variable_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">alias</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">new_name</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">old_name</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>alias $foo $bar ^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_alias_method_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_alias_method_node" title="Link to this method">
                <span class="method-name">visit_alias_method_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_alias_method_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 53</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_alias_method_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">alias</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">new_name</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">old_name</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>alias foo bar ^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_alternation_pattern_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_alternation_pattern_node" title="Link to this method">
                <span class="method-name">visit_alternation_pattern_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_alternation_pattern_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_alternation_pattern_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_alt</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">left</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">right</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo =&gt; bar | baz ^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_and_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_and_node" title="Link to this method">
                <span class="method-name">visit_and_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_and_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_and_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">logical_op</span>(<span class="ruby-value">:and</span>, <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">left</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">right</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>a and b ^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_arguments_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_arguments_node" title="Link to this method">
                <span class="method-name">visit_arguments_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_arguments_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_arguments_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo(bar) ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_array_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_array_node" title="Link to this method">
                <span class="method-name">visit_array_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_array_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 77</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_array_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>&amp;.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;%w&quot;</span>, <span class="ruby-string">&quot;%W&quot;</span>, <span class="ruby-string">&quot;%i&quot;</span>, <span class="ruby-string">&quot;%I&quot;</span>)
    <span class="ruby-identifier">elements</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">elements</span>.<span class="ruby-identifier">flat_map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">element</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">StringNode</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">content</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)
          <span class="ruby-identifier">string_nodes_from_line_continuations</span>(<span class="ruby-identifier">element</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">element</span>.<span class="ruby-identifier">content</span>, <span class="ruby-identifier">element</span>.<span class="ruby-identifier">content_loc</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>)
        <span class="ruby-keyword">else</span>
          [<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_internal</span>([<span class="ruby-identifier">element</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">element</span>.<span class="ruby-identifier">content_loc</span>)])]
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">InterpolatedStringNode</span>)
        <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_compose</span>(
          <span class="ruby-identifier">token</span>(<span class="ruby-identifier">element</span>.<span class="ruby-identifier">opening_loc</span>),
          <span class="ruby-identifier">string_nodes_from_interpolation</span>(<span class="ruby-identifier">element</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>),
          <span class="ruby-identifier">token</span>(<span class="ruby-identifier">element</span>.<span class="ruby-identifier">closing_loc</span>)
        )
      <span class="ruby-keyword">else</span>
        [<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">element</span>)]
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">elements</span> = <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">elements</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">array</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">elements</span>, <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>[] ^^</p>
        </div>


      </div>

      <div id="method-i-visit_array_pattern_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_array_pattern_node" title="Link to this method">
                <span class="method-name">visit_array_pattern_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_array_pattern_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 105</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_array_pattern_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">elements</span> = [<span class="ruby-operator">*</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">requireds</span>]
  <span class="ruby-identifier">elements</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ImplicitRestNode</span>)
  <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">posts</span>)
  <span class="ruby-identifier">visited</span> = <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">elements</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ImplicitRestNode</span>)
    <span class="ruby-identifier">visited</span>[<span class="ruby-value">-1</span>] = <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_with_trailing_comma</span>(<span class="ruby-identifier">visited</span>[<span class="ruby-value">-1</span>], <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>.<span class="ruby-identifier">location</span>))
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">constant</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">visited</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const_pattern</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">constant</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">array_pattern</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">visited</span>, <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>))
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const_pattern</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">constant</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">array_pattern</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">visited</span>, <span class="ruby-keyword">nil</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>))
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">array_pattern</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">visited</span>, <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo =&gt; [bar] ^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_assoc_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_assoc_node" title="Link to this method">
                <span class="method-name">visit_assoc_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_assoc_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_assoc_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">key</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">key</span>

  <span class="ruby-keyword">if</span>  <span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ImplicitNode</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">in_pattern</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SymbolNode</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">opening</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_hash_var</span>([<span class="ruby-identifier">key</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">location</span>)])
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_hash_var_from_str</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">opening_loc</span>), [<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_internal</span>([<span class="ruby-identifier">key</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">value_loc</span>)])], <span class="ruby-identifier">token</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">closing_loc</span>))
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_hash_var_from_str</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">parts</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">closing_loc</span>))
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">value</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>.<span class="ruby-identifier">value</span>

      <span class="ruby-identifier">implicit_value</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">CallNode</span>)
        <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">call_method</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>, [<span class="ruby-identifier">value</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">message_loc</span>)])
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ConstantReadNode</span>)
        <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const</span>([<span class="ruby-identifier">value</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">value_loc</span>)])
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ident</span>([<span class="ruby-identifier">value</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">value_loc</span>)]).<span class="ruby-identifier">updated</span>(<span class="ruby-value">:lvar</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">pair_keyword</span>([<span class="ruby-identifier">key</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">key</span>)], <span class="ruby-identifier">implicit_value</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">pair</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">key</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>))
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SymbolNode</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">opening_loc</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">pair_keyword</span>([<span class="ruby-identifier">key</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">location</span>)], <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">parts</span> =
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SymbolNode</span>)
        [<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_internal</span>([<span class="ruby-identifier">key</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">value_loc</span>)])]
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">parts</span>)
      <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">pair_quoted</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">token</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">closing_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>{ a: 1 } ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_assoc_splat_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_assoc_splat_node" title="Link to this method">
                <span class="method-name">visit_assoc_splat_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_assoc_splat_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 182</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_assoc_splat_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">in_pattern</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_rest</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>&amp;.<span class="ruby-identifier">location</span>))
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">forwarding</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:**</span>)
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">forwarded_kwrestarg</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">kwsplat</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo(<strong>); bar(</strong>); end ^^</p>

<p>{ **foo } ^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_back_reference_read_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_back_reference_read_node" title="Link to this method">
                <span class="method-name">visit_back_reference_read_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_back_reference_read_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 194</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_back_reference_read_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">back_ref</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>$+ ^^</p>
        </div>


      </div>

      <div id="method-i-visit_begin_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_begin_node" title="Link to this method">
                <span class="method-name">visit_begin_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_begin_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 200</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_begin_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">rescue_bodies</span> = []

  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">rescue_clause</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">rescue_clause</span>)
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">find_start_offset</span> = (<span class="ruby-identifier">rescue_clause</span>.<span class="ruby-identifier">reference</span>&amp;.<span class="ruby-identifier">location</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rescue_clause</span>.<span class="ruby-identifier">exceptions</span>.<span class="ruby-identifier">last</span>&amp;.<span class="ruby-identifier">location</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rescue_clause</span>.<span class="ruby-identifier">keyword_loc</span>).<span class="ruby-identifier">end_offset</span>
      <span class="ruby-identifier">find_end_offset</span> = (
        <span class="ruby-identifier">rescue_clause</span>.<span class="ruby-identifier">statements</span>&amp;.<span class="ruby-identifier">location</span>&amp;.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">||</span>
        <span class="ruby-identifier">rescue_clause</span>.<span class="ruby-identifier">subsequent</span>&amp;.<span class="ruby-identifier">location</span>&amp;.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">||</span>
        <span class="ruby-identifier">node</span>.<span class="ruby-identifier">else_clause</span>&amp;.<span class="ruby-identifier">location</span>&amp;.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">||</span>
        <span class="ruby-identifier">node</span>.<span class="ruby-identifier">ensure_clause</span>&amp;.<span class="ruby-identifier">location</span>&amp;.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">||</span>
        <span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>&amp;.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">||</span>
        <span class="ruby-identifier">find_start_offset</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
      )

      <span class="ruby-identifier">rescue_bodies</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">rescue_body</span>(
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">rescue_clause</span>.<span class="ruby-identifier">keyword_loc</span>),
        <span class="ruby-identifier">rescue_clause</span>.<span class="ruby-identifier">exceptions</span>.<span class="ruby-identifier">any?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">array</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">rescue_clause</span>.<span class="ruby-identifier">exceptions</span>), <span class="ruby-keyword">nil</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">rescue_clause</span>.<span class="ruby-identifier">operator_loc</span>),
        <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">rescue_clause</span>.<span class="ruby-identifier">reference</span>),
        <span class="ruby-identifier">srange_find</span>(<span class="ruby-identifier">find_start_offset</span>, <span class="ruby-identifier">find_end_offset</span>, <span class="ruby-string">&quot;;&quot;</span>),
        <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">rescue_clause</span>.<span class="ruby-identifier">statements</span>)
      )
    <span class="ruby-keyword">end</span> <span class="ruby-keyword">until</span> (<span class="ruby-identifier">rescue_clause</span> = <span class="ruby-identifier">rescue_clause</span>.<span class="ruby-identifier">subsequent</span>).<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">begin_body</span> =
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">begin_body</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
      <span class="ruby-identifier">rescue_bodies</span>,
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">else_clause</span>&amp;.<span class="ruby-identifier">else_keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">else_clause</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">ensure_clause</span>&amp;.<span class="ruby-identifier">ensure_keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">ensure_clause</span>&amp;.<span class="ruby-identifier">statements</span>)
    )

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">begin_keyword_loc</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">begin_keyword</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">begin_keyword_loc</span>), <span class="ruby-identifier">begin_body</span>, <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">begin_body</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>begin end ^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_block_argument_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_block_argument_node" title="Link to this method">
                <span class="method-name">visit_block_argument_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_block_argument_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_block_argument_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">block_pass</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">expression</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo(&amp;bar) ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_block_local_variable_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_block_local_variable_node" title="Link to this method">
                <span class="method-name">visit_block_local_variable_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_block_local_variable_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 251</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_block_local_variable_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">shadowarg</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo { |; bar| } ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_block_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_block_node" title="Link to this method">
                <span class="method-name">visit_block_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_block_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 256</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_block_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">CompilationError</span>, <span class="ruby-string">&quot;Cannot directly compile block nodes&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>A block on a keyword or method call.</p>
        </div>


      </div>

      <div id="method-i-visit_block_parameter_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_block_parameter_node" title="Link to this method">
                <span class="method-name">visit_block_parameter_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_block_parameter_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 262</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_block_parameter_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">blockarg</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo(&amp;bar); end ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_block_parameters_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_block_parameters_node" title="Link to this method">
                <span class="method-name">visit_block_parameters_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_block_parameters_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 267</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_block_parameters_node</span>(<span class="ruby-identifier">node</span>)
  [<span class="ruby-operator">*</span><span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>)].<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">locals</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>A blockâ€™s parameters.</p>
        </div>


      </div>

      <div id="method-i-visit_break_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_break_node" title="Link to this method">
                <span class="method-name">visit_break_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_break_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 276</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_break_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">keyword_cmd</span>(<span class="ruby-value">:break</span>, <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>), <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>) <span class="ruby-operator">||</span> [], <span class="ruby-keyword">nil</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>break ^^^^^</p>

<p>break foo ^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_call_and_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_call_and_write_node" title="Link to this method">
                <span class="method-name">visit_call_and_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_call_and_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 381</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_call_and_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">call_operator_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">call_operator_loc</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">call_method</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>),
      <span class="ruby-identifier">call_operator_loc</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> [{ <span class="ruby-string">&quot;.&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">:dot</span>, <span class="ruby-string">&quot;&amp;.&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">:anddot</span>, <span class="ruby-string">&quot;::&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;::&quot;</span> }.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">call_operator_loc</span>.<span class="ruby-identifier">slice</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">call_operator_loc</span>)],
      <span class="ruby-identifier">node</span>.<span class="ruby-identifier">message_loc</span> <span class="ruby-operator">?</span> [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">read_name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">message_loc</span>)] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
      <span class="ruby-keyword">nil</span>,
      [],
      <span class="ruby-keyword">nil</span>
    ),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo.bar &amp;&amp;= baz ^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_call_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_call_node" title="Link to this method">
                <span class="method-name">visit_call_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_call_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 288</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_call_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>
  <span class="ruby-identifier">arguments</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>&amp;.<span class="ruby-identifier">arguments</span> <span class="ruby-operator">||</span> []
  <span class="ruby-identifier">block</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">BlockArgumentNode</span>)
    <span class="ruby-identifier">arguments</span> = [<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>, <span class="ruby-identifier">block</span>]
    <span class="ruby-identifier">block</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">call_operator_loc</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">name</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:-@</span>
      <span class="ruby-keyword">case</span> (<span class="ruby-identifier">receiver</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>).<span class="ruby-identifier">type</span>
      <span class="ruby-keyword">when</span> <span class="ruby-value">:integer_node</span>, <span class="ruby-value">:float_node</span>, <span class="ruby-value">:rational_node</span>, <span class="ruby-value">:imaginary_node</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">numeric_negate</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">message_loc</span>, <span class="ruby-identifier">receiver</span>))
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:!</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">visit_block</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">not_op</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">message_loc</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)), <span class="ruby-identifier">block</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-value">:=~</span>
      <span class="ruby-keyword">if</span> (<span class="ruby-identifier">receiver</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>).<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">RegularExpressionNode</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_op</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">receiver</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">message_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>))
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:[]</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">visit_block</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">arguments</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)), <span class="ruby-identifier">block</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-value">:[]=</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">message</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;[]=&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">safe_navigation?</span>
        <span class="ruby-identifier">arguments</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">arguments</span>[<span class="ruby-operator">...</span><span class="ruby-value">-1</span>]
        <span class="ruby-identifier">arguments</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span>

        <span class="ruby-keyword">return</span> <span class="ruby-identifier">visit_block</span>(
          <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assign</span>(
            <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">index_asgn</span>(
              <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>),
              <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
              <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">arguments</span>),
              <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>),
            ),
            <span class="ruby-identifier">srange_find</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">message_loc</span>.<span class="ruby-identifier">end_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-string">&quot;=&quot;</span>),
            <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">last</span>)
          ),
          <span class="ruby-identifier">block</span>
        )
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">message_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">message_loc</span>
  <span class="ruby-identifier">call_operator_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">call_operator_loc</span>
  <span class="ruby-identifier">call_operator</span> = [{ <span class="ruby-string">&quot;.&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">:dot</span>, <span class="ruby-string">&quot;&amp;.&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">:anddot</span>, <span class="ruby-string">&quot;::&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;::&quot;</span> }.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">call_operator_loc</span>.<span class="ruby-identifier">slice</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">call_operator_loc</span>)] <span class="ruby-keyword">if</span> <span class="ruby-identifier">call_operator_loc</span>

  <span class="ruby-identifier">visit_block</span>(
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">end_with?</span>(<span class="ruby-string">&quot;=&quot;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">message_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">end_with?</span>(<span class="ruby-string">&quot;=&quot;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assign</span>(
        <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">attr_asgn</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>), <span class="ruby-identifier">call_operator</span>, <span class="ruby-identifier">token</span>(<span class="ruby-identifier">message_loc</span>)),
        <span class="ruby-identifier">srange_find</span>(<span class="ruby-identifier">message_loc</span>.<span class="ruby-identifier">end_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-string">&quot;=&quot;</span>),
        <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">last</span>)
      )
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">call_method</span>(
        <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>),
        <span class="ruby-identifier">call_operator</span>,
        <span class="ruby-identifier">message_loc</span> <span class="ruby-operator">?</span> [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">message_loc</span>)] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
        <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">arguments</span>),
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
      )
    <span class="ruby-keyword">end</span>,
    <span class="ruby-identifier">block</span>
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo ^^^</p>

<p>foo.bar ^^^^^^^</p>

<p>foo.bar() {} ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_call_operator_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_call_operator_write_node" title="Link to this method">
                <span class="method-name">visit_call_operator_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_call_operator_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 362</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_call_operator_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">call_operator_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">call_operator_loc</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">call_method</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>),
      <span class="ruby-identifier">call_operator_loc</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> [{ <span class="ruby-string">&quot;.&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">:dot</span>, <span class="ruby-string">&quot;&amp;.&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">:anddot</span>, <span class="ruby-string">&quot;::&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;::&quot;</span> }.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">call_operator_loc</span>.<span class="ruby-identifier">slice</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">call_operator_loc</span>)],
      <span class="ruby-identifier">node</span>.<span class="ruby-identifier">message_loc</span> <span class="ruby-operator">?</span> [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">read_name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">message_loc</span>)] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
      <span class="ruby-keyword">nil</span>,
      [],
      <span class="ruby-keyword">nil</span>
    ),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo.bar += baz ^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_call_or_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_call_or_write_node" title="Link to this method">
                <span class="method-name">visit_call_or_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_call_or_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 400</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_call_or_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">call_operator_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">call_operator_loc</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">call_method</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>),
      <span class="ruby-identifier">call_operator_loc</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> [{ <span class="ruby-string">&quot;.&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">:dot</span>, <span class="ruby-string">&quot;&amp;.&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">:anddot</span>, <span class="ruby-string">&quot;::&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;::&quot;</span> }.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">call_operator_loc</span>.<span class="ruby-identifier">slice</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">call_operator_loc</span>)],
      <span class="ruby-identifier">node</span>.<span class="ruby-identifier">message_loc</span> <span class="ruby-operator">?</span> [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">read_name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">message_loc</span>)] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
      <span class="ruby-keyword">nil</span>,
      [],
      <span class="ruby-keyword">nil</span>
    ),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo.bar ||= baz ^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_call_target_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_call_target_node" title="Link to this method">
                <span class="method-name">visit_call_target_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_call_target_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 419</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_call_target_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">call_operator_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">call_operator_loc</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">attr_asgn</span>(
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>),
    <span class="ruby-identifier">call_operator_loc</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> [{ <span class="ruby-string">&quot;.&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">:dot</span>, <span class="ruby-string">&quot;&amp;.&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">:anddot</span>, <span class="ruby-string">&quot;::&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;::&quot;</span> }.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">call_operator_loc</span>.<span class="ruby-identifier">slice</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">call_operator_loc</span>)],
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">message_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo.bar, = 1 ^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_capture_pattern_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_capture_pattern_node" title="Link to this method">
                <span class="method-name">visit_capture_pattern_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_capture_pattern_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 431</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_capture_pattern_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_as</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">target</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo =&gt; bar =&gt; baz ^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_case_match_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_case_match_node" title="Link to this method">
                <span class="method-name">visit_case_match_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_case_match_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 450</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_case_match_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">case_match</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">case_keyword_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>),
    <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">conditions</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">else_clause</span>&amp;.<span class="ruby-identifier">else_keyword_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">else_clause</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>case foo; in bar; end ^^^^^^^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_case_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_case_node" title="Link to this method">
                <span class="method-name">visit_case_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_case_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 437</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_case_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">case</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">case_keyword_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>),
    <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">conditions</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">else_clause</span>&amp;.<span class="ruby-identifier">else_keyword_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">else_clause</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>case foo; when bar; end ^^^^^^^^^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_class_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_class_node" title="Link to this method">
                <span class="method-name">visit_class_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_class_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 463</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_class_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">def_class</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">class_keyword_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">constant_path</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">inheritance_operator_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">superclass</span>),
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">body</span>&amp;.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">copy_compiler</span>(<span class="ruby-value">forwarding:</span> [])),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>class Foo; end ^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_class_variable_and_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_class_variable_and_write_node" title="Link to this method">
                <span class="method-name">visit_class_variable_and_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_class_variable_and_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 502</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_class_variable_and_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">cvar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@@foo &amp;&amp;= bar ^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_class_variable_operator_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_class_variable_operator_write_node" title="Link to this method">
                <span class="method-name">visit_class_variable_operator_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_class_variable_operator_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 492</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_class_variable_operator_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">cvar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@@foo += bar ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_class_variable_or_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_class_variable_or_write_node" title="Link to this method">
                <span class="method-name">visit_class_variable_or_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_class_variable_or_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 512</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_class_variable_or_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">cvar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@@foo ||= bar ^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_class_variable_read_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_class_variable_read_node" title="Link to this method">
                <span class="method-name">visit_class_variable_read_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_class_variable_read_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 476</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_class_variable_read_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">cvar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@@foo ^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_class_variable_target_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_class_variable_target_node" title="Link to this method">
                <span class="method-name">visit_class_variable_target_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_class_variable_target_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 522</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_class_variable_target_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">cvar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@@foo, = bar ^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_class_variable_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_class_variable_write_node" title="Link to this method">
                <span class="method-name">visit_class_variable_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_class_variable_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 482</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_class_variable_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">cvar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@@foo = 1 ^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_constant_and_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_constant_and_write_node" title="Link to this method">
                <span class="method-name">visit_constant_and_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_constant_and_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 553</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_constant_and_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>)])),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Foo &amp;&amp;= bar ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_constant_operator_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_constant_operator_write_node" title="Link to this method">
                <span class="method-name">visit_constant_operator_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_constant_operator_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 543</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_constant_operator_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>)])),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Foo += bar ^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_constant_or_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_constant_or_write_node" title="Link to this method">
                <span class="method-name">visit_constant_or_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_constant_or_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 563</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_constant_or_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>)])),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Foo ||= bar ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_constant_path_and_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_constant_path_and_write_node" title="Link to this method">
                <span class="method-name">visit_constant_path_and_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_constant_path_and_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 619</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_constant_path_and_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">target</span>)),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Foo::Bar &amp;&amp;= baz ^^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_constant_path_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_constant_path_node" title="Link to this method">
                <span class="method-name">visit_constant_path_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_constant_path_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 579</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_constant_path_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const_global</span>(
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">delimiter_loc</span>),
      [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>)]
    )
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const_fetch</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">delimiter_loc</span>),
      [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>)]
    )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Foo::Bar ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_constant_path_operator_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_constant_path_operator_write_node" title="Link to this method">
                <span class="method-name">visit_constant_path_operator_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_constant_path_operator_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 609</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_constant_path_operator_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">target</span>)),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Foo::Bar += baz ^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_constant_path_or_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_constant_path_or_write_node" title="Link to this method">
                <span class="method-name">visit_constant_path_or_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_constant_path_or_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 629</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_constant_path_or_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">target</span>)),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Foo::Bar ||= baz ^^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_constant_path_target_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_constant_path_target_node" title="Link to this method">
                <span class="method-name">visit_constant_path_target_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_constant_path_target_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 639</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_constant_path_target_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">visit_constant_path_node</span>(<span class="ruby-identifier">node</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Foo::Bar, = baz ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_constant_path_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_constant_path_write_node" title="Link to this method">
                <span class="method-name">visit_constant_path_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_constant_path_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 599</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_constant_path_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">target</span>)),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Foo::Bar = 1 ^^^^^^^^^^^^</p>

<p>Foo::Foo, Bar::Bar = 1 ^^^^^^^^ ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_constant_read_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_constant_read_node" title="Link to this method">
                <span class="method-name">visit_constant_read_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_constant_read_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 528</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_constant_read_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)])
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Foo ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_constant_target_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_constant_target_node" title="Link to this method">
                <span class="method-name">visit_constant_target_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_constant_target_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 573</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_constant_target_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)]))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Foo, = bar ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_constant_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_constant_write_node" title="Link to this method">
                <span class="method-name">visit_constant_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_constant_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 537</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_constant_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assign</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>)])), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Foo = 1 ^^^^^^^</p>

<p>Foo, Bar = 1 ^^^ ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_def_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_def_node" title="Link to this method">
                <span class="method-name">visit_def_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_def_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 648</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_def_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">equal_loc</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">def_endless_singleton</span>(
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">def_keyword_loc</span>),
        <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ParenthesesNode</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">body</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>),
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>),
        <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">args</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>) <span class="ruby-operator">||</span> [], <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rparen_loc</span>), <span class="ruby-keyword">false</span>),
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">equal_loc</span>),
        <span class="ruby-identifier">node</span>.<span class="ruby-identifier">body</span>&amp;.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">copy_compiler</span>(<span class="ruby-value">forwarding:</span> <span class="ruby-identifier">find_forwarding</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>)))
      )
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">def_endless_method</span>(
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">def_keyword_loc</span>),
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>),
        <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">args</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>) <span class="ruby-operator">||</span> [], <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rparen_loc</span>), <span class="ruby-keyword">false</span>),
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">equal_loc</span>),
        <span class="ruby-identifier">node</span>.<span class="ruby-identifier">body</span>&amp;.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">copy_compiler</span>(<span class="ruby-value">forwarding:</span> <span class="ruby-identifier">find_forwarding</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>)))
      )
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">def_singleton</span>(
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">def_keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ParenthesesNode</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">body</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>),
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">args</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>) <span class="ruby-operator">||</span> [], <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rparen_loc</span>), <span class="ruby-keyword">false</span>),
      <span class="ruby-identifier">node</span>.<span class="ruby-identifier">body</span>&amp;.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">copy_compiler</span>(<span class="ruby-value">forwarding:</span> <span class="ruby-identifier">find_forwarding</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>))),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>)
    )
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">def_method</span>(
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">def_keyword_loc</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>),
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">args</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>) <span class="ruby-operator">||</span> [], <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rparen_loc</span>), <span class="ruby-keyword">false</span>),
      <span class="ruby-identifier">node</span>.<span class="ruby-identifier">body</span>&amp;.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">copy_compiler</span>(<span class="ruby-value">forwarding:</span> <span class="ruby-identifier">find_forwarding</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>))),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>)
    )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo; end ^^^^^^^^^^^^</p>

<p>def self.foo; end ^^^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_defined_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_defined_node" title="Link to this method">
                <span class="method-name">visit_defined_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_defined_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 695</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_defined_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-comment"># Very weird circumstances here where something like:</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-comment">#     defined?</span>
  <span class="ruby-comment">#     (1)</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-comment"># gets parsed in Ruby as having only the `1` expression but in parser</span>
  <span class="ruby-comment"># it gets parsed as having a begin. In this case we need to synthesize</span>
  <span class="ruby-comment"># that begin to match parser&#39;s behavior.</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span>).<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">keyword_cmd</span>(
      <span class="ruby-value">:defined?</span>,
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
      <span class="ruby-keyword">nil</span>,
      [
        <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">begin</span>(
          <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span>),
          <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>),
          <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rparen_loc</span>)
        )
      ],
      <span class="ruby-keyword">nil</span>
    )
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">keyword_cmd</span>(
      <span class="ruby-value">:defined?</span>,
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span>),
      [<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)],
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rparen_loc</span>)
    )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>defined? a ^^^^^^^^^^</p>

<p>defined?(a) ^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_else_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_else_node" title="Link to this method">
                <span class="method-name">visit_else_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_else_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 731</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_else_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>if foo then bar else baz end ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_embedded_statements_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_embedded_statements_node" title="Link to this method">
                <span class="method-name">visit_embedded_statements_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_embedded_statements_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 737</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_embedded_statements_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">begin</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>â€œfoo #{bar}â€ ^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_embedded_variable_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_embedded_variable_node" title="Link to this method">
                <span class="method-name">visit_embedded_variable_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_embedded_variable_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 747</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_embedded_variable_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">variable</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>â€œfoo #@barâ€ ^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_ensure_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_ensure_node" title="Link to this method">
                <span class="method-name">visit_ensure_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_ensure_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 753</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_ensure_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">CompilationError</span>, <span class="ruby-string">&quot;Cannot directly compile ensure nodes&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>begin; foo; ensure; bar; end ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_false_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_false_node" title="Link to this method">
                <span class="method-name">visit_false_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_false_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 759</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_false_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">false</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>false ^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_find_pattern_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_find_pattern_node" title="Link to this method">
                <span class="method-name">visit_find_pattern_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_find_pattern_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 765</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_find_pattern_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">elements</span> = [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">left</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">requireds</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">right</span>]

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">constant</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const_pattern</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">constant</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">find_pattern</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">elements</span>), <span class="ruby-keyword">nil</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">find_pattern</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">elements</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo =&gt; [<em>, bar, </em>] ^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_flip_flop_node" class="method-detail anchor-link method-alias">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_flip_flop_node" title="Link to this method">
                <span class="method-name">visit_flip_flop_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>


        <div class="method-description">
          <p>if foo .. bar; end ^^^^^^^^^^</p>
        </div>


        <div class="aliases">
          Alias for: <a href="Compiler.html#method-i-visit_range_node">visit_range_node</a>
        </div>
      </div>

      <div id="method-i-visit_float_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_float_node" title="Link to this method">
                <span class="method-name">visit_float_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_float_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 777</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_float_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">visit_numeric</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">float</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)]))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>1.0 ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_for_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_for_node" title="Link to this method">
                <span class="method-name">visit_for_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_for_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 783</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_for_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">for</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">for_keyword_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">index</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">in_keyword_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">collection</span>),
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">do_keyword_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">do_keyword_loc</span>)
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">do_keyword_loc</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">srange_find</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">collection</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">end_offset</span>, (<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>&amp;.<span class="ruby-identifier">location</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>).<span class="ruby-identifier">start_offset</span>, <span class="ruby-string">&quot;;&quot;</span>)
    <span class="ruby-keyword">end</span>,
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>for foo in bar do end ^^^^^^^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_forwarding_arguments_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_forwarding_arguments_node" title="Link to this method">
                <span class="method-name">visit_forwarding_arguments_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_forwarding_arguments_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 801</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_forwarding_arguments_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">forwarded_args</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo(â€¦); bar(â€¦); end ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_forwarding_parameter_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_forwarding_parameter_node" title="Link to this method">
                <span class="method-name">visit_forwarding_parameter_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_forwarding_parameter_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 807</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_forwarding_parameter_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">forward_arg</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo(â€¦); end ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_forwarding_super_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_forwarding_super_node" title="Link to this method">
                <span class="method-name">visit_forwarding_super_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_forwarding_super_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 816</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_forwarding_super_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">visit_block</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">keyword_cmd</span>(
      <span class="ruby-value">:zsuper</span>,
      [<span class="ruby-string">&quot;super&quot;</span>, <span class="ruby-identifier">srange_offsets</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">+</span> <span class="ruby-value">5</span>)]
    ),
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span>
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>super ^^^^^</p>

<p>super {} ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_global_variable_and_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_global_variable_and_write_node" title="Link to this method">
                <span class="method-name">visit_global_variable_and_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_global_variable_and_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 854</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_global_variable_and_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">gvar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>$foo &amp;&amp;= bar ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_global_variable_operator_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_global_variable_operator_write_node" title="Link to this method">
                <span class="method-name">visit_global_variable_operator_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_global_variable_operator_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 844</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_global_variable_operator_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">gvar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>$foo += bar ^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_global_variable_or_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_global_variable_or_write_node" title="Link to this method">
                <span class="method-name">visit_global_variable_or_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_global_variable_or_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 864</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_global_variable_or_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">gvar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>$foo ||= bar ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_global_variable_read_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_global_variable_read_node" title="Link to this method">
                <span class="method-name">visit_global_variable_read_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_global_variable_read_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 828</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_global_variable_read_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">gvar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>$foo ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_global_variable_target_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_global_variable_target_node" title="Link to this method">
                <span class="method-name">visit_global_variable_target_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_global_variable_target_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 874</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_global_variable_target_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">gvar</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">slice</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)]))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>$foo, = bar ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_global_variable_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_global_variable_write_node" title="Link to this method">
                <span class="method-name">visit_global_variable_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_global_variable_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 834</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_global_variable_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">gvar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>$foo = 1 ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_hash_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_hash_node" title="Link to this method">
                <span class="method-name">visit_hash_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_hash_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 880</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_hash_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">associate</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
    <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">elements</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>{} ^^</p>
        </div>


      </div>

      <div id="method-i-visit_hash_pattern_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_hash_pattern_node" title="Link to this method">
                <span class="method-name">visit_hash_pattern_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_hash_pattern_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 890</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_hash_pattern_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">elements</span> = [<span class="ruby-operator">*</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">elements</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>]

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">constant</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">const_pattern</span>(<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">constant</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">hash_pattern</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">elements</span>), <span class="ruby-keyword">nil</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">hash_pattern</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">elements</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo =&gt; {} ^^</p>
        </div>


      </div>

      <div id="method-i-visit_if_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_if_node" title="Link to this method">
                <span class="method-name">visit_if_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_if_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 908</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_if_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">if_keyword_loc</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ternary</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">then_keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">subsequent</span>.<span class="ruby-identifier">else_keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">subsequent</span>)
    )
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">if_keyword_loc</span>.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">condition</span>(
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">if_keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>),
      <span class="ruby-keyword">if</span> (<span class="ruby-identifier">then_keyword_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">then_keyword_loc</span>)
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">then_keyword_loc</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">srange_find</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">end_offset</span>, (<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>&amp;.<span class="ruby-identifier">location</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">subsequent</span>&amp;.<span class="ruby-identifier">location</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>).<span class="ruby-identifier">start_offset</span>, <span class="ruby-string">&quot;;&quot;</span>)
      <span class="ruby-keyword">end</span>,
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
      <span class="ruby-keyword">case</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">subsequent</span>
      <span class="ruby-keyword">when</span> <span class="ruby-constant">IfNode</span>
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">subsequent</span>.<span class="ruby-identifier">if_keyword_loc</span>)
      <span class="ruby-keyword">when</span> <span class="ruby-constant">ElseNode</span>
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">subsequent</span>.<span class="ruby-identifier">else_keyword_loc</span>)
      <span class="ruby-keyword">end</span>,
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">subsequent</span>),
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">if_keyword</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;elsif&quot;</span>
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>)
      <span class="ruby-keyword">end</span>
    )
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">condition_mod</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">subsequent</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">if_keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>)
    )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>if foo then bar end ^^^^^^^^^^^^^^^^^^^</p>

<p>bar if foo ^^^^^^^^^^</p>

<p>foo ? bar : baz ^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_imaginary_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_imaginary_node" title="Link to this method">
                <span class="method-name">visit_imaginary_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_imaginary_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 950</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_imaginary_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">visit_numeric</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">complex</span>([<span class="ruby-constant">Complex</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">numeric</span>.<span class="ruby-identifier">value</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)]))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>1i ^^</p>
        </div>


      </div>

      <div id="method-i-visit_implicit_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_implicit_node" title="Link to this method">
                <span class="method-name">visit_implicit_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_implicit_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 956</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_implicit_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">CompilationError</span>, <span class="ruby-string">&quot;Cannot directly compile implicit nodes&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>{ foo: } ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_implicit_rest_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_implicit_rest_node" title="Link to this method">
                <span class="method-name">visit_implicit_rest_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_implicit_rest_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 962</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_implicit_rest_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">CompilationError</span>, <span class="ruby-string">&quot;Cannot compile implicit rest nodes&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo { |bar,| } ^</p>
        </div>


      </div>

      <div id="method-i-visit_in_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_in_node" title="Link to this method">
                <span class="method-name">visit_in_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_in_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 968</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_in_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">pattern</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">guard</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">pattern</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">IfNode</span>
    <span class="ruby-identifier">pattern</span> = <span class="ruby-identifier">within_pattern</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">compiler</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">statements</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">compiler</span>) }
    <span class="ruby-identifier">guard</span> = <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">if_guard</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">if_keyword_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">predicate</span>))
  <span class="ruby-keyword">when</span> <span class="ruby-constant">UnlessNode</span>
    <span class="ruby-identifier">pattern</span> = <span class="ruby-identifier">within_pattern</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">compiler</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">statements</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">compiler</span>) }
    <span class="ruby-identifier">guard</span> = <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">unless_guard</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">keyword_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">predicate</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">pattern</span> = <span class="ruby-identifier">within_pattern</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">compiler</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">compiler</span>) }
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">in_pattern</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">in_loc</span>),
    <span class="ruby-identifier">pattern</span>,
    <span class="ruby-identifier">guard</span>,
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">then_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">then_loc</span>)
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">then_loc</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">srange_find</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">end_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>&amp;.<span class="ruby-identifier">location</span>&amp;.<span class="ruby-identifier">start_offset</span>, <span class="ruby-string">&quot;;&quot;</span>)
    <span class="ruby-keyword">end</span>,
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>case foo; in bar; end ^^^^^^^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_index_and_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_index_and_write_node" title="Link to this method">
                <span class="method-name">visit_index_and_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_index_and_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1016</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_index_and_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">arguments</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>&amp;.<span class="ruby-identifier">arguments</span> <span class="ruby-operator">||</span> []
  <span class="ruby-identifier">arguments</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">index</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
      <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">arguments</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
    ),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p><a href="bar">foo</a> &amp;&amp;= baz ^^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_index_operator_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_index_operator_write_node" title="Link to this method">
                <span class="method-name">visit_index_operator_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_index_operator_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 998</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_index_operator_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">arguments</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>&amp;.<span class="ruby-identifier">arguments</span> <span class="ruby-operator">||</span> []
  <span class="ruby-identifier">arguments</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">index</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
      <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">arguments</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
    ),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p><a href="bar">foo</a> += baz ^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_index_or_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_index_or_write_node" title="Link to this method">
                <span class="method-name">visit_index_or_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_index_or_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1034</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_index_or_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">arguments</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>&amp;.<span class="ruby-identifier">arguments</span> <span class="ruby-operator">||</span> []
  <span class="ruby-identifier">arguments</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">index</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
      <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">arguments</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
    ),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p><a href="bar">foo</a> ||= baz ^^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_index_target_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_index_target_node" title="Link to this method">
                <span class="method-name">visit_index_target_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_index_target_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1052</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_index_target_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">index_asgn</span>(
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">receiver</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
    <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>&amp;.<span class="ruby-identifier">arguments</span> <span class="ruby-operator">||</span> []),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>),
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p><a href="bar">foo</a>, = 1 ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_instance_variable_and_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_instance_variable_and_write_node" title="Link to this method">
                <span class="method-name">visit_instance_variable_and_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_instance_variable_and_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1089</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_instance_variable_and_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ivar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@foo &amp;&amp;= bar ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_instance_variable_operator_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_instance_variable_operator_write_node" title="Link to this method">
                <span class="method-name">visit_instance_variable_operator_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_instance_variable_operator_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1079</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_instance_variable_operator_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ivar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@foo += bar ^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_instance_variable_or_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_instance_variable_or_write_node" title="Link to this method">
                <span class="method-name">visit_instance_variable_or_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_instance_variable_or_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1099</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_instance_variable_or_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ivar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@foo ||= bar ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_instance_variable_read_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_instance_variable_read_node" title="Link to this method">
                <span class="method-name">visit_instance_variable_read_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_instance_variable_read_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1063</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_instance_variable_read_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ivar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@foo ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_instance_variable_target_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_instance_variable_target_node" title="Link to this method">
                <span class="method-name">visit_instance_variable_target_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_instance_variable_target_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1109</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_instance_variable_target_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ivar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@foo, = bar ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_instance_variable_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_instance_variable_write_node" title="Link to this method">
                <span class="method-name">visit_instance_variable_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_instance_variable_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1069</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_instance_variable_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ivar</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@foo = 1 ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_integer_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_integer_node" title="Link to this method">
                <span class="method-name">visit_integer_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_integer_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1115</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_integer_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">visit_numeric</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">integer</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)]))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>1 ^</p>
        </div>


      </div>

      <div id="method-i-visit_interpolated_match_last_line_node" class="method-detail anchor-link method-alias">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_interpolated_match_last_line_node" title="Link to this method">
                <span class="method-name">visit_interpolated_match_last_line_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>


        <div class="method-description">
          <p>if /foo #{bar}/ then end ^^^^^^^^^^^^</p>
        </div>


        <div class="aliases">
          Alias for: <a href="Compiler.html#method-i-visit_interpolated_regular_expression_node">visit_interpolated_regular_expression_node</a>
        </div>
      </div>

      <div id="method-i-visit_interpolated_regular_expression_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_interpolated_regular_expression_node" title="Link to this method">
                <span class="method-name">visit_interpolated_regular_expression_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_interpolated_regular_expression_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1121</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_interpolated_regular_expression_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">regexp_compose</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
    <span class="ruby-identifier">string_nodes_from_interpolation</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">srange_offsets</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)],
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">regexp_options</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span>], <span class="ruby-identifier">srange_offsets</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>.<span class="ruby-identifier">end_offset</span>)])
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>/foo #{bar}/ ^^^^^^^^^^^^</p>
        </div>

        <div class="aliases">
          Also aliased as: <a href="Compiler.html#method-i-visit_interpolated_match_last_line_node">visit_interpolated_match_last_line_node</a>
        </div>

      </div>

      <div id="method-i-visit_interpolated_string_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_interpolated_string_node" title="Link to this method">
                <span class="method-name">visit_interpolated_string_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_interpolated_string_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1136</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_interpolated_string_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">heredoc?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">visit_heredoc</span>(<span class="ruby-identifier">node</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">children</span>, <span class="ruby-identifier">closing</span><span class="ruby-operator">|</span> <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_compose</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">children</span>, <span class="ruby-identifier">closing</span>) }
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_compose</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
    <span class="ruby-identifier">string_nodes_from_interpolation</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>â€œfoo #{bar}â€ ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_interpolated_symbol_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_interpolated_symbol_node" title="Link to this method">
                <span class="method-name">visit_interpolated_symbol_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_interpolated_symbol_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1150</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_interpolated_symbol_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">symbol_compose</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
    <span class="ruby-identifier">string_nodes_from_interpolation</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>:â€œfoo #{bar}â€ ^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_interpolated_x_string_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_interpolated_x_string_node" title="Link to this method">
                <span class="method-name">visit_interpolated_x_string_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_interpolated_x_string_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1160</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_interpolated_x_string_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">heredoc?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">visit_heredoc</span>(<span class="ruby-identifier">node</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">children</span>, <span class="ruby-identifier">closing</span><span class="ruby-operator">|</span> <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">xstring_compose</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">children</span>, <span class="ruby-identifier">closing</span>) }
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">xstring_compose</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
    <span class="ruby-identifier">string_nodes_from_interpolation</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p><code>foo #{bar}</code> ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_it_local_variable_read_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_it_local_variable_read_node" title="Link to this method">
                <span class="method-name">visit_it_local_variable_read_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_it_local_variable_read_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1174</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_it_local_variable_read_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ident</span>([<span class="ruby-value">:it</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)]).<span class="ruby-identifier">updated</span>(<span class="ruby-value">:lvar</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>-&gt; { it } ^^</p>
        </div>


      </div>

      <div id="method-i-visit_it_parameters_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_it_parameters_node" title="Link to this method">
                <span class="method-name">visit_it_parameters_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_it_parameters_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1180</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_it_parameters_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-comment"># FIXME: The builder _should_ always be a subclass of the prism builder.</span>
  <span class="ruby-comment"># Currently RuboCop passes in its own builder that always inherits from the</span>
  <span class="ruby-comment"># parser builder (which is lacking the `itarg` method). Once rubocop-ast</span>
  <span class="ruby-comment"># opts in to use the custom prism builder a warning can be emitted when</span>
  <span class="ruby-comment"># it is not the expected class, and eventually raise.</span>
  <span class="ruby-comment"># https://github.com/rubocop/rubocop-ast/pull/354</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Translation</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span><span class="ruby-operator">::</span><span class="ruby-constant">Builder</span>)
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">itarg</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">args</span>(<span class="ruby-keyword">nil</span>, [], <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">false</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>-&gt; { it } ^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_keyword_hash_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_keyword_hash_node" title="Link to this method">
                <span class="method-name">visit_keyword_hash_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_keyword_hash_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1196</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_keyword_hash_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">associate</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">elements</span>), <span class="ruby-keyword">nil</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo(bar: baz) ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_keyword_rest_parameter_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_keyword_rest_parameter_node" title="Link to this method">
                <span class="method-name">visit_keyword_rest_parameter_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_keyword_rest_parameter_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1205</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_keyword_rest_parameter_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">kwrestarg</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">?</span> [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>)] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo(**bar); end ^^^^^</p>

<p>def foo(**); end ^^</p>
        </div>


      </div>

      <div id="method-i-visit_lambda_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_lambda_node" title="Link to this method">
                <span class="method-name">visit_lambda_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_lambda_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1214</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_lambda_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">parameters</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>
  <span class="ruby-identifier">implicit_parameters</span> = <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">NumberedParametersNode</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ItParametersNode</span>)

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">block</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">call_lambda</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>)],
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">args</span>(<span class="ruby-keyword">nil</span>, [], <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">false</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">implicit_parameters</span>
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">args</span>(
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">opening_loc</span>),
        <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>),
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">closing_loc</span>),
        <span class="ruby-keyword">false</span>
      )
    <span class="ruby-keyword">end</span>,
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">body</span>),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)]
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>-&gt; {} ^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_local_variable_and_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_local_variable_and_write_node" title="Link to this method">
                <span class="method-name">visit_local_variable_and_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_local_variable_and_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1266</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_local_variable_and_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ident</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo &amp;&amp;= bar ^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_local_variable_operator_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_local_variable_operator_write_node" title="Link to this method">
                <span class="method-name">visit_local_variable_operator_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_local_variable_operator_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1256</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_local_variable_operator_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ident</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">binary_operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo += bar ^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_local_variable_or_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_local_variable_or_write_node" title="Link to this method">
                <span class="method-name">visit_local_variable_or_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_local_variable_or_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1276</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_local_variable_or_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">op_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ident</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">slice</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-string">&quot;=&quot;</span>), <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>)],
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo ||= bar ^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_local_variable_read_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_local_variable_read_node" title="Link to this method">
                <span class="method-name">visit_local_variable_read_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_local_variable_read_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1240</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_local_variable_read_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ident</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)]).<span class="ruby-identifier">updated</span>(<span class="ruby-value">:lvar</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_local_variable_target_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_local_variable_target_node" title="Link to this method">
                <span class="method-name">visit_local_variable_target_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_local_variable_target_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1286</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_local_variable_target_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">in_pattern</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_var</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)]))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ident</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo, = bar ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_local_variable_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_local_variable_write_node" title="Link to this method">
                <span class="method-name">visit_local_variable_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_local_variable_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1246</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_local_variable_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">ident</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo = 1 ^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_match_last_line_node" class="method-detail anchor-link method-alias">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_match_last_line_node" title="Link to this method">
                <span class="method-name">visit_match_last_line_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>


        <div class="method-description">
          <p>if /foo/ then end ^^^^^</p>
        </div>


        <div class="aliases">
          Alias for: <a href="Compiler.html#method-i-visit_regular_expression_node">visit_regular_expression_node</a>
        </div>
      </div>

      <div id="method-i-visit_match_predicate_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_match_predicate_node" title="Link to this method">
                <span class="method-name">visit_match_predicate_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_match_predicate_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1296</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_match_predicate_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_pattern_p</span>(
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
    <span class="ruby-identifier">within_pattern</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">compiler</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">compiler</span>) }
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo in bar ^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_match_required_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_match_required_node" title="Link to this method">
                <span class="method-name">visit_match_required_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_match_required_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1306</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_match_required_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_pattern</span>(
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
    <span class="ruby-identifier">within_pattern</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">compiler</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">compiler</span>) }
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo =&gt; bar ^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_match_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_match_write_node" title="Link to this method">
                <span class="method-name">visit_match_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_match_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1316</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_match_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_op</span>(
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">call</span>.<span class="ruby-identifier">receiver</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">call</span>.<span class="ruby-identifier">message_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">call</span>.<span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">first</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>/(?&lt;foo&gt;foo)/ =~ bar ^^^^^^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_missing_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_missing_node" title="Link to this method">
                <span class="method-name">visit_missing_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_missing_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1327</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_missing_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-operator">::</span><span class="ruby-constant">AST</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:missing</span>, [], <span class="ruby-value">location:</span> <span class="ruby-operator">::</span><span class="ruby-constant">Parser</span><span class="ruby-operator">::</span><span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>A node that is missing from the syntax tree. This is only used in the case of a syntax error. The parser gem doesnâ€™t have such a concept, so we invent our own here.</p>
        </div>


      </div>

      <div id="method-i-visit_module_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_module_node" title="Link to this method">
                <span class="method-name">visit_module_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_module_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1333</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_module_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">def_module</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">module_keyword_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">constant_path</span>),
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">body</span>&amp;.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">copy_compiler</span>(<span class="ruby-value">forwarding:</span> [])),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>module Foo; end ^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_multi_target_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_multi_target_node" title="Link to this method">
                <span class="method-name">visit_multi_target_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_multi_target_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1344</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_multi_target_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">multi_lhs</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span>),
    <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">multi_target_elements</span>(<span class="ruby-identifier">node</span>)),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rparen_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo, bar = baz ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_multi_write_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_multi_write_node" title="Link to this method">
                <span class="method-name">visit_multi_write_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_multi_write_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1354</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_multi_write_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">elements</span> = <span class="ruby-identifier">multi_target_elements</span>(<span class="ruby-identifier">node</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">MultiTargetNode</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>
    <span class="ruby-identifier">elements</span> = <span class="ruby-identifier">multi_target_elements</span>(<span class="ruby-identifier">elements</span>.<span class="ruby-identifier">first</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">multi_assign</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">multi_lhs</span>(
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span>),
      <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">elements</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rparen_loc</span>)
    ),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo, bar = baz ^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_next_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_next_node" title="Link to this method">
                <span class="method-name">visit_next_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_next_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1377</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_next_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">keyword_cmd</span>(
    <span class="ruby-value">:next</span>,
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
    <span class="ruby-keyword">nil</span>,
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>) <span class="ruby-operator">||</span> [],
    <span class="ruby-keyword">nil</span>
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>next ^^^^</p>

<p>next foo ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_nil_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_nil_node" title="Link to this method">
                <span class="method-name">visit_nil_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_nil_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1389</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_nil_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">nil</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>nil ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_no_keywords_parameter_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_no_keywords_parameter_node" title="Link to this method">
                <span class="method-name">visit_no_keywords_parameter_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_no_keywords_parameter_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1395</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_no_keywords_parameter_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">in_pattern</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_nil_pattern</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">kwnilarg</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo(**nil); end ^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_numbered_parameters_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_numbered_parameters_node" title="Link to this method">
                <span class="method-name">visit_numbered_parameters_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_numbered_parameters_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1405</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_numbered_parameters_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">numargs</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">maximum</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>-&gt; { <em>1 + </em>2 } ^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_numbered_reference_read_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_numbered_reference_read_node" title="Link to this method">
                <span class="method-name">visit_numbered_reference_read_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_numbered_reference_read_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1411</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_numbered_reference_read_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">nth_ref</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">number</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)])
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>$1 ^^</p>
        </div>


      </div>

      <div id="method-i-visit_optional_keyword_parameter_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_optional_keyword_parameter_node" title="Link to this method">
                <span class="method-name">visit_optional_keyword_parameter_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_optional_keyword_parameter_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1417</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_optional_keyword_parameter_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">kwoptarg</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>)], <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo(bar: baz); end ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_optional_parameter_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_optional_parameter_node" title="Link to this method">
                <span class="method-name">visit_optional_parameter_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_optional_parameter_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1423</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_optional_parameter_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">optarg</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo(bar = 1); end ^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_or_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_or_node" title="Link to this method">
                <span class="method-name">visit_or_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_or_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1429</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_or_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">logical_op</span>(<span class="ruby-value">:or</span>, <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">left</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">right</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>a or b ^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_parameters_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_parameters_node" title="Link to this method">
                <span class="method-name">visit_parameters_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_parameters_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1435</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_parameters_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">params</span> = []

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">requireds</span>.<span class="ruby-identifier">any?</span>
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">requireds</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">required</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">params</span> <span class="ruby-operator">&lt;&lt;</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">required</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">RequiredParameterNode</span>)
          <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">required</span>)
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">required</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">copy_compiler</span>(<span class="ruby-value">in_destructure:</span> <span class="ruby-keyword">true</span>))
        <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">params</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">optionals</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">optionals</span>.<span class="ruby-identifier">any?</span>
  <span class="ruby-identifier">params</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>) <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ImplicitRestNode</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">any?</span>
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">post</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">params</span> <span class="ruby-operator">&lt;&lt;</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">RequiredParameterNode</span>)
          <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">post</span>)
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">post</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">copy_compiler</span>(<span class="ruby-value">in_destructure:</span> <span class="ruby-keyword">true</span>))
        <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">params</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keywords</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">keywords</span>.<span class="ruby-identifier">any?</span>
  <span class="ruby-identifier">params</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_rest</span>) <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_rest</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">params</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span>) <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">params</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo(bar, *baz); end ^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_parentheses_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_parentheses_node" title="Link to this method">
                <span class="method-name">visit_parentheses_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_parentheses_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1474</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_parentheses_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">begin</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">body</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>() ^^</p>

<p>(1) ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_pinned_expression_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_pinned_expression_node" title="Link to this method">
                <span class="method-name">visit_pinned_expression_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_pinned_expression_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1484</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_pinned_expression_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">expression</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">copy_compiler</span>(<span class="ruby-value">in_pattern:</span> <span class="ruby-keyword">false</span>)) <span class="ruby-comment"># Don&#39;t treat * and similar as match_rest</span>
  <span class="ruby-identifier">expression</span> = <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">begin</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span>), <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rparen_loc</span>))
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">pin</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">expression</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo =&gt; ^(bar) ^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_pinned_variable_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_pinned_variable_node" title="Link to this method">
                <span class="method-name">visit_pinned_variable_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_pinned_variable_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1492</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_pinned_variable_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">pin</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">variable</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo = 1 and bar =&gt; ^foo ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_post_execution_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_post_execution_node" title="Link to this method">
                <span class="method-name">visit_post_execution_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_post_execution_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1497</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_post_execution_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">postexe</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>END {}</p>
        </div>


      </div>

      <div id="method-i-visit_pre_execution_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_pre_execution_node" title="Link to this method">
                <span class="method-name">visit_pre_execution_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_pre_execution_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1507</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_pre_execution_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">preexe</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>BEGIN {}</p>
        </div>


      </div>

      <div id="method-i-visit_program_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_program_node" title="Link to this method">
                <span class="method-name">visit_program_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_program_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1517</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_program_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>The top-level program node.</p>
        </div>


      </div>

      <div id="method-i-visit_range_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_range_node" title="Link to this method">
                <span class="method-name">visit_range_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_range_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1523</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_range_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">exclude_end?</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">range_exclusive</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">left</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">right</span>)
    )
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">range_inclusive</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">left</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">right</span>)
    )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>0..5 ^^^^</p>
        </div>

        <div class="aliases">
          Also aliased as: <a href="Compiler.html#method-i-visit_flip_flop_node">visit_flip_flop_node</a>
        </div>

      </div>

      <div id="method-i-visit_rational_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_rational_node" title="Link to this method">
                <span class="method-name">visit_rational_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_rational_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1545</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_rational_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">visit_numeric</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">rational</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)]))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>1r ^^</p>
        </div>


      </div>

      <div id="method-i-visit_redo_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_redo_node" title="Link to this method">
                <span class="method-name">visit_redo_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_redo_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1551</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_redo_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">keyword_cmd</span>(<span class="ruby-value">:redo</span>, <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>redo ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_regular_expression_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_regular_expression_node" title="Link to this method">
                <span class="method-name">visit_regular_expression_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_regular_expression_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1557</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_regular_expression_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">parts</span> =
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;&quot;</span>
      []
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)
      <span class="ruby-identifier">string_nodes_from_line_continuations</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content_loc</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>)
    <span class="ruby-keyword">else</span>
      [<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_internal</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">content_loc</span>)])]
    <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">regexp_compose</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
    <span class="ruby-identifier">parts</span>,
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">srange_offsets</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)],
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">regexp_options</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span>], <span class="ruby-identifier">srange_offsets</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>.<span class="ruby-identifier">end_offset</span>)])
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>/foo/ ^^^^^</p>
        </div>

        <div class="aliases">
          Also aliased as: <a href="Compiler.html#method-i-visit_match_last_line_node">visit_match_last_line_node</a>
        </div>

      </div>

      <div id="method-i-visit_required_keyword_parameter_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_required_keyword_parameter_node" title="Link to this method">
                <span class="method-name">visit_required_keyword_parameter_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_required_keyword_parameter_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1581</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_required_keyword_parameter_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">kwarg</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>)])
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo(bar:); end ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_required_parameter_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_required_parameter_node" title="Link to this method">
                <span class="method-name">visit_required_parameter_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_required_parameter_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1587</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_required_parameter_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">arg</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo(bar); end ^^^</p>
        </div>


      </div>

      <div id="method-i-visit_rescue_modifier_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_rescue_modifier_node" title="Link to this method">
                <span class="method-name">visit_rescue_modifier_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_rescue_modifier_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1593</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_rescue_modifier_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">begin_body</span>(
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">expression</span>),
    [
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">rescue_body</span>(
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
        <span class="ruby-keyword">nil</span>,
        <span class="ruby-keyword">nil</span>,
        <span class="ruby-keyword">nil</span>,
        <span class="ruby-keyword">nil</span>,
        <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rescue_expression</span>)
      )
    ]
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo rescue bar ^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_rescue_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_rescue_node" title="Link to this method">
                <span class="method-name">visit_rescue_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_rescue_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1611</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_rescue_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">CompilationError</span>, <span class="ruby-string">&quot;Cannot directly compile rescue nodes&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>begin; rescue; end ^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_rest_parameter_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_rest_parameter_node" title="Link to this method">
                <span class="method-name">visit_rest_parameter_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_rest_parameter_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1620</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_rest_parameter_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">restarg</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_loc</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>def foo(*bar); end ^^^^</p>

<p>def foo(*); end ^</p>
        </div>


      </div>

      <div id="method-i-visit_retry_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_retry_node" title="Link to this method">
                <span class="method-name">visit_retry_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_retry_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1626</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_retry_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">keyword_cmd</span>(<span class="ruby-value">:retry</span>, <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>retry ^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_return_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_return_node" title="Link to this method">
                <span class="method-name">visit_return_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_return_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1635</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_return_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">keyword_cmd</span>(
    <span class="ruby-value">:return</span>,
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
    <span class="ruby-keyword">nil</span>,
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>) <span class="ruby-operator">||</span> [],
    <span class="ruby-keyword">nil</span>
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>return ^^^^^^</p>

<p>return 1 ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_self_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_self_node" title="Link to this method">
                <span class="method-name">visit_self_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_self_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1647</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_self_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">self</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>self ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_shareable_constant_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_shareable_constant_node" title="Link to this method">
                <span class="method-name">visit_shareable_constant_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_shareable_constant_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1652</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_shareable_constant_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">write</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>A shareable constant.</p>
        </div>


      </div>

      <div id="method-i-visit_singleton_class_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_singleton_class_node" title="Link to this method">
                <span class="method-name">visit_singleton_class_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_singleton_class_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1658</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_singleton_class_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">def_sclass</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">class_keyword_loc</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">expression</span>),
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">body</span>&amp;.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">copy_compiler</span>(<span class="ruby-value">forwarding:</span> [])),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>class &lt;&lt; self; end ^^^^^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_source_encoding_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_source_encoding_node" title="Link to this method">
                <span class="method-name">visit_source_encoding_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_source_encoding_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1670</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_source_encoding_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">accessible</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">__ENCODING__</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p><strong>ENCODING</strong> ^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_source_file_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_source_file_node" title="Link to this method">
                <span class="method-name">visit_source_file_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_source_file_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1676</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_source_file_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">accessible</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">__FILE__</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p><strong>FILE</strong> ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_source_line_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_source_line_node" title="Link to this method">
                <span class="method-name">visit_source_line_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_source_line_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1682</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_source_line_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">accessible</span>(<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">__LINE__</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p><strong>LINE</strong> ^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_splat_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_splat_node" title="Link to this method">
                <span class="method-name">visit_splat_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_splat_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1694</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_splat_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">expression</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">forwarding</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:*</span>)
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">forwarded_restarg</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>))
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">in_destructure</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">restarg</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">expression</span>&amp;.<span class="ruby-identifier">location</span>))
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">in_pattern</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">match_rest</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">expression</span>&amp;.<span class="ruby-identifier">location</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">splat</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">operator_loc</span>), <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">expression</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>foo(*bar) ^^^^</p>

<p>def foo((bar, *baz)); end ^^^^</p>

<p>def foo(<em>); bar(</em>); end ^</p>
        </div>


      </div>

      <div id="method-i-visit_statements_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_statements_node" title="Link to this method">
                <span class="method-name">visit_statements_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_statements_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1707</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_statements_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">compstmt</span>(<span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">body</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>A list of statements.</p>
        </div>


      </div>

      <div id="method-i-visit_string_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_string_node" title="Link to this method">
                <span class="method-name">visit_string_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_string_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1713</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_string_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">heredoc?</span>
    <span class="ruby-identifier">visit_heredoc</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">to_interpolated</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">children</span>, <span class="ruby-identifier">closing</span><span class="ruby-operator">|</span> <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_compose</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">children</span>, <span class="ruby-identifier">closing</span>) }
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;?&quot;</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">character</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)])
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>&amp;.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;%&quot;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">unescaped</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_compose</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), [], <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">parts</span> =
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)
        <span class="ruby-identifier">string_nodes_from_line_continuations</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content_loc</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>)
      <span class="ruby-keyword">else</span>
        [<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_internal</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">content_loc</span>)])]
      <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_compose</span>(
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
      <span class="ruby-identifier">parts</span>,
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
    )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>â€œfooâ€ ^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_super_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_super_node" title="Link to this method">
                <span class="method-name">visit_super_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_super_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1738</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_super_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">arguments</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>&amp;.<span class="ruby-identifier">arguments</span> <span class="ruby-operator">||</span> []
  <span class="ruby-identifier">block</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">BlockArgumentNode</span>)
    <span class="ruby-identifier">arguments</span> = [<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>, <span class="ruby-identifier">block</span>]
    <span class="ruby-identifier">block</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">visit_block</span>(
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">keyword_cmd</span>(
      <span class="ruby-value">:super</span>,
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span>),
      <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">arguments</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rparen_loc</span>)
    ),
    <span class="ruby-identifier">block</span>
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>super(foo) ^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_symbol_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_symbol_node" title="Link to this method">
                <span class="method-name">visit_symbol_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_symbol_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1761</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_symbol_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">symbol_internal</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)])
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">symbol</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>)])
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">parts</span> =
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;&quot;</span>
        []
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)
        <span class="ruby-identifier">string_nodes_from_line_continuations</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">value_loc</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>)
      <span class="ruby-keyword">else</span>
        [<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_internal</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">value_loc</span>)])]
      <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">symbol_compose</span>(
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
      <span class="ruby-identifier">parts</span>,
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
    )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>:foo ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_true_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_true_node" title="Link to this method">
                <span class="method-name">visit_true_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_true_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1788</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_true_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">true</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>true ^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_undef_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_undef_node" title="Link to this method">
                <span class="method-name">visit_undef_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_undef_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1794</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_undef_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">undef_method</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>), <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">names</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>undef foo ^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_unless_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_unless_node" title="Link to this method">
                <span class="method-name">visit_unless_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_unless_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1803</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_unless_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">condition</span>(
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>),
      <span class="ruby-keyword">if</span> (<span class="ruby-identifier">then_keyword_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">then_keyword_loc</span>)
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">then_keyword_loc</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">srange_find</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">end_offset</span>, (<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>&amp;.<span class="ruby-identifier">location</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">else_clause</span>&amp;.<span class="ruby-identifier">location</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>).<span class="ruby-identifier">start_offset</span>, <span class="ruby-string">&quot;;&quot;</span>)
      <span class="ruby-keyword">end</span>,
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">else_clause</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">else_clause</span>&amp;.<span class="ruby-identifier">else_keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">end_keyword_loc</span>)
    )
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">condition_mod</span>(
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">else_clause</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>)
    )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>unless foo; bar end ^^^^^^^^^^^^^^^^^^^</p>

<p>bar unless foo ^^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_until_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_until_node" title="Link to this method">
                <span class="method-name">visit_until_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_until_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1833</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_until_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>.<span class="ruby-identifier">start_offset</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">loop</span>(
      <span class="ruby-value">:until</span>,
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>),
      <span class="ruby-keyword">if</span> (<span class="ruby-identifier">do_keyword_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">do_keyword_loc</span>)
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">do_keyword_loc</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">srange_find</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">end_offset</span>, (<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>&amp;.<span class="ruby-identifier">location</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>).<span class="ruby-identifier">start_offset</span>, <span class="ruby-string">&quot;;&quot;</span>)
      <span class="ruby-keyword">end</span>,
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
    )
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">loop_mod</span>(
      <span class="ruby-value">:until</span>,
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>)
    )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>until foo; bar end ^^^^^^^^^^^^^^^^^^</p>

<p>bar until foo ^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_when_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_when_node" title="Link to this method">
                <span class="method-name">visit_when_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_when_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1859</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_when_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">when</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
    <span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">conditions</span>),
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">then_keyword_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">then_keyword_loc</span>)
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">then_keyword_loc</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">srange_find</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">conditions</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">end_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>&amp;.<span class="ruby-identifier">location</span>&amp;.<span class="ruby-identifier">start_offset</span>, <span class="ruby-string">&quot;;&quot;</span>)
    <span class="ruby-keyword">end</span>,
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>case foo; when bar; end ^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_while_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_while_node" title="Link to this method">
                <span class="method-name">visit_while_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_while_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1877</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_while_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>.<span class="ruby-identifier">start_offset</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">loop</span>(
      <span class="ruby-value">:while</span>,
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>),
      <span class="ruby-keyword">if</span> (<span class="ruby-identifier">do_keyword_loc</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">do_keyword_loc</span>)
        <span class="ruby-identifier">token</span>(<span class="ruby-identifier">do_keyword_loc</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">srange_find</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">end_offset</span>, (<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>&amp;.<span class="ruby-identifier">location</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>).<span class="ruby-identifier">start_offset</span>, <span class="ruby-string">&quot;;&quot;</span>)
      <span class="ruby-keyword">end</span>,
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
    )
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">loop_mod</span>(
      <span class="ruby-value">:while</span>,
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">statements</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">predicate</span>)
    )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>while foo; bar end ^^^^^^^^^^^^^^^^^^</p>

<p>bar while foo ^^^^^^^^^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_x_string_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_x_string_node" title="Link to this method">
                <span class="method-name">visit_x_string_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_x_string_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1903</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_x_string_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">heredoc?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">visit_heredoc</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">to_interpolated</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">children</span>, <span class="ruby-identifier">closing</span><span class="ruby-operator">|</span> <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">xstring_compose</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>), <span class="ruby-identifier">children</span>, <span class="ruby-identifier">closing</span>) }
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">parts</span> =
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;&quot;</span>
      []
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)
      <span class="ruby-identifier">string_nodes_from_line_continuations</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content_loc</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>)
    <span class="ruby-keyword">else</span>
      [<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_internal</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">srange</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">content_loc</span>)])]
    <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">xstring_compose</span>(
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening_loc</span>),
    <span class="ruby-identifier">parts</span>,
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p><code>foo</code> ^^^^^</p>
        </div>


      </div>

      <div id="method-i-visit_yield_node" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_yield_node" title="Link to this method">
                <span class="method-name">visit_yield_node</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_yield_node-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1929</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_yield_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">keyword_cmd</span>(
    <span class="ruby-value">:yield</span>,
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_loc</span>),
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">lparen_loc</span>),
    <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">arguments</span>) <span class="ruby-operator">||</span> [],
    <span class="ruby-identifier">token</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rparen_loc</span>)
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>yield ^^^^^</p>

<p>yield 1 ^^^^^^^</p>
        </div>


      </div>

    </section>

     <section id="private-instance-5Buntitled-5D-method-details" class="method-section anchor-link">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

      <div id="method-i-copy_compiler" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-copy_compiler" title="Link to this method">
                <span class="method-name">copy_compiler</span>
                <span class="method-args">(forwarding: self.forwarding, in_destructure: self.in_destructure, in_pattern: self.in_pattern)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="copy_compiler-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1943</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">copy_compiler</span>(<span class="ruby-value">forwarding:</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">forwarding</span>, <span class="ruby-value">in_destructure:</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">in_destructure</span>, <span class="ruby-value">in_pattern:</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">in_pattern</span>)
  <span class="ruby-constant">Compiler</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">parser</span>, <span class="ruby-identifier">offset_cache</span>, <span class="ruby-value">forwarding:</span> <span class="ruby-identifier">forwarding</span>, <span class="ruby-value">in_destructure:</span> <span class="ruby-identifier">in_destructure</span>, <span class="ruby-value">in_pattern:</span> <span class="ruby-identifier">in_pattern</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Initialize a new compiler with the given option overrides, used to visit a subtree with the given options.</p>
        </div>


      </div>

      <div id="method-i-find_forwarding" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-find_forwarding" title="Link to this method">
                <span class="method-name">find_forwarding</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="find_forwarding-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1950</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">find_forwarding</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">return</span> [] <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-identifier">forwarding</span> = []
  <span class="ruby-identifier">forwarding</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">:*</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">RestParameterNode</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">forwarding</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">:**</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_rest</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">KeywordRestParameterNode</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_rest</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">forwarding</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">:&amp;</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">block</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">forwarding</span> <span class="ruby-operator">|=</span> [<span class="ruby-value">:&amp;</span>, <span class="ruby-value">:&quot;...&quot;</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">keyword_rest</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ForwardingParameterNode</span>)

  <span class="ruby-identifier">forwarding</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>When <em>, </em>*, &amp;, or â€¦ are used as an argument in a method call, we check if they were allowed by the current context. To determine that we build this lookup table.</p>
        </div>


      </div>

      <div id="method-i-multi_target_elements" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-multi_target_elements" title="Link to this method">
                <span class="method-name">multi_target_elements</span>
                <span class="method-args">(node)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="multi_target_elements-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1963</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">multi_target_elements</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">elements</span> = [<span class="ruby-operator">*</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">lefts</span>]
  <span class="ruby-identifier">elements</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">rest</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ImplicitRestNode</span>)
  <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">rights</span>)
  <span class="ruby-identifier">elements</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Returns the set of targets for a <a href="../../MultiTargetNode.html"><code>MultiTargetNode</code></a> or a <a href="../../MultiWriteNode.html"><code>MultiWriteNode</code></a>.</p>
        </div>


      </div>

      <div id="method-i-numeric_negate" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-numeric_negate" title="Link to this method">
                <span class="method-name">numeric_negate</span>
                <span class="method-args">(message_loc, receiver)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="numeric_negate-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1975</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">numeric_negate</span>(<span class="ruby-identifier">message_loc</span>, <span class="ruby-identifier">receiver</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:integer_node</span>, <span class="ruby-value">:float_node</span>
    <span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">copy</span>(<span class="ruby-value">value:</span> <span class="ruby-operator">-</span><span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">value</span>, <span class="ruby-value">location:</span> <span class="ruby-identifier">message_loc</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">location</span>))
  <span class="ruby-keyword">when</span> <span class="ruby-value">:rational_node</span>
    <span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">copy</span>(<span class="ruby-value">numerator:</span> <span class="ruby-operator">-</span><span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">numerator</span>, <span class="ruby-value">location:</span> <span class="ruby-identifier">message_loc</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">location</span>))
  <span class="ruby-keyword">when</span> <span class="ruby-value">:imaginary_node</span>
    <span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">copy</span>(<span class="ruby-value">numeric:</span> <span class="ruby-identifier">numeric_negate</span>(<span class="ruby-identifier">message_loc</span>, <span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">numeric</span>), <span class="ruby-value">location:</span> <span class="ruby-identifier">message_loc</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">location</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Negate the value of a numeric node. This is a special case where you have a negative sign on one line and then a number on the next line. In normal Ruby, this will always be a method call. The parser gem, however, marks this as a numeric literal. We have to massage the tree here to get it into the correct form.</p>
        </div>


      </div>

      <div id="method-i-procarg0-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-procarg0-3F" title="Link to this method">
                <span class="method-name">procarg0?</span>
                <span class="method-args">(parameters)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="procarg0-3F-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 1989</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">procarg0?</span>(<span class="ruby-identifier">parameters</span>)
  <span class="ruby-identifier">parameters</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">requireds</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">optionals</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">rest</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">keywords</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">keyword_rest</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">block</span>.<span class="ruby-identifier">nil?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Blocks can have a special set of parameters that automatically expand when given arrays if they have a single required parameter and no other parameters.</p>
        </div>


      </div>

      <div id="method-i-srange" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-srange" title="Link to this method">
                <span class="method-name">srange</span>
                <span class="method-args">(location)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="srange-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 2006</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">srange</span>(<span class="ruby-identifier">location</span>)
  <span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">source_buffer</span>, <span class="ruby-identifier">offset_cache</span>[<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span>], <span class="ruby-identifier">offset_cache</span>[<span class="ruby-identifier">location</span>.<span class="ruby-identifier">end_offset</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">location</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Constructs a new source range from the given start and end offsets.</p>
        </div>


      </div>

      <div id="method-i-srange_find" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-srange_find" title="Link to this method">
                <span class="method-name">srange_find</span>
                <span class="method-args">(start_offset, end_offset, character)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="srange_find-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 2021</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">srange_find</span>(<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">end_offset</span>, <span class="ruby-identifier">character</span>)
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">match</span> = <span class="ruby-identifier">source_buffer</span>.<span class="ruby-identifier">source</span>.<span class="ruby-identifier">byteslice</span>(<span class="ruby-identifier">start_offset</span><span class="ruby-operator">...</span><span class="ruby-identifier">end_offset</span>)[<span class="ruby-regexp">/\A\s*#{character}/</span>])
    <span class="ruby-identifier">final_offset</span> = <span class="ruby-identifier">start_offset</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">bytesize</span>
    [<span class="ruby-identifier">character</span>, <span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">source_buffer</span>, <span class="ruby-identifier">offset_cache</span>[<span class="ruby-identifier">final_offset</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">character</span>.<span class="ruby-identifier">bytesize</span>], <span class="ruby-identifier">offset_cache</span>[<span class="ruby-identifier">final_offset</span>])]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Constructs a new source range by finding the given character between the given start offset and end offset. If the needle is not found, it returns nil. Importantly it does not search past newlines or comments.</p>

<p>Note that end_offset is allowed to be nil, in which case this will search until the end of the string.</p>
        </div>


      </div>

      <div id="method-i-srange_offsets" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-srange_offsets" title="Link to this method">
                <span class="method-name">srange_offsets</span>
                <span class="method-args">(start_offset, end_offset)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="srange_offsets-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 2011</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">srange_offsets</span>(<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">end_offset</span>)
  <span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">source_buffer</span>, <span class="ruby-identifier">offset_cache</span>[<span class="ruby-identifier">start_offset</span>], <span class="ruby-identifier">offset_cache</span>[<span class="ruby-identifier">end_offset</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Constructs a new source range from the given start and end offsets.</p>
        </div>


      </div>

      <div id="method-i-string_nodes_from_interpolation" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-string_nodes_from_interpolation" title="Link to this method">
                <span class="method-name">string_nodes_from_interpolation</span>
                <span class="method-args">(node, opening)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="string_nodes_from_interpolation-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 2138</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">string_nodes_from_interpolation</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">opening</span>)
  <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">flat_map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:string_node</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">content</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">opening_loc</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">string_nodes_from_line_continuations</span>(<span class="ruby-identifier">part</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">part</span>.<span class="ruby-identifier">content</span>, <span class="ruby-identifier">part</span>.<span class="ruby-identifier">content_loc</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">opening</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">part</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>When the content of a string node is split across multiple lines, the parser gem creates individual string nodes for each line the content is part of.</p>
        </div>


      </div>

      <div id="method-i-string_nodes_from_line_continuations" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-string_nodes_from_line_continuations" title="Link to this method">
                <span class="method-name">string_nodes_from_line_continuations</span>
                <span class="method-args">(unescaped, escaped, start_offset, opening)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="string_nodes_from_line_continuations-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 2150</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">string_nodes_from_line_continuations</span>(<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">escaped</span>, <span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">opening</span>)
  <span class="ruby-identifier">unescaped</span> = <span class="ruby-identifier">unescaped</span>.<span class="ruby-identifier">lines</span>
  <span class="ruby-identifier">escaped</span> = <span class="ruby-identifier">escaped</span>.<span class="ruby-identifier">lines</span>
  <span class="ruby-identifier">percent_array</span> = <span class="ruby-identifier">opening</span>&amp;.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;%w&quot;</span>, <span class="ruby-string">&quot;%W&quot;</span>, <span class="ruby-string">&quot;%i&quot;</span>, <span class="ruby-string">&quot;%I&quot;</span>)
  <span class="ruby-identifier">regex</span> = <span class="ruby-identifier">opening</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;/&quot;</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">opening</span>&amp;.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;%r&quot;</span>)

  <span class="ruby-comment"># Non-interpolating strings</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">opening</span>&amp;.<span class="ruby-identifier">end_with?</span>(<span class="ruby-string">&quot;&#39;&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">opening</span>&amp;.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;%q&quot;</span>, <span class="ruby-string">&quot;%s&quot;</span>, <span class="ruby-string">&quot;%w&quot;</span>, <span class="ruby-string">&quot;%i&quot;</span>)
    <span class="ruby-identifier">current_length</span> = <span class="ruby-value">0</span>
    <span class="ruby-identifier">current_line</span> = <span class="ruby-string">+&quot;&quot;</span>

    <span class="ruby-identifier">escaped</span>.<span class="ruby-identifier">filter_map</span>.<span class="ruby-identifier">with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">escaped_line</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">unescaped_line</span> = <span class="ruby-identifier">unescaped</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">index</span>, <span class="ruby-string">&quot;&quot;</span>)
      <span class="ruby-identifier">current_length</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">escaped_line</span>.<span class="ruby-identifier">bytesize</span>
      <span class="ruby-identifier">current_line</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">unescaped_line</span>

      <span class="ruby-comment"># Glue line continuations together. Only %w and %i arrays can contain these.</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">percent_array</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">escaped_line</span>[<span class="ruby-regexp">/(\\)*\n$/</span>, <span class="ruby-value">1</span>]&amp;.<span class="ruby-identifier">length</span>&amp;.<span class="ruby-identifier">odd?</span>
        <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">index</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">escaped</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">s</span> = <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_internal</span>([<span class="ruby-identifier">current_line</span>, <span class="ruby-identifier">srange_offsets</span>(<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">start_offset</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">current_length</span>)])
      <span class="ruby-identifier">start_offset</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">escaped_line</span>.<span class="ruby-identifier">bytesize</span>
      <span class="ruby-identifier">current_line</span> = <span class="ruby-string">+&quot;&quot;</span>
      <span class="ruby-identifier">current_length</span> = <span class="ruby-value">0</span>
      <span class="ruby-identifier">s</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">escaped_lengths</span> = []
    <span class="ruby-identifier">normalized_lengths</span> = []
    <span class="ruby-comment"># Keeps track of where an unescaped line should start a new token. An unescaped</span>
    <span class="ruby-comment"># \n would otherwise be indistinguishable from the actual newline at the end of</span>
    <span class="ruby-comment"># of the line. The parser gem only emits a new string node at &quot;real&quot; newlines,</span>
    <span class="ruby-comment"># line continuations don&#39;t start a new node as well.</span>
    <span class="ruby-identifier">do_next_tokens</span> = []

    <span class="ruby-identifier">escaped</span>
      .<span class="ruby-identifier">chunk_while</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">before</span>, <span class="ruby-identifier">after</span><span class="ruby-operator">|</span> <span class="ruby-identifier">before</span>[<span class="ruby-regexp">/(\\*)\r?\n$/</span>, <span class="ruby-value">1</span>]&amp;.<span class="ruby-identifier">length</span>&amp;.<span class="ruby-identifier">odd?</span> <span class="ruby-operator">||</span> <span class="ruby-keyword">false</span> }
      .<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lines</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">escaped_lengths</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:bytesize</span>)

        <span class="ruby-identifier">unescaped_lines_count</span> =
          <span class="ruby-keyword">if</span> <span class="ruby-identifier">regex</span>
            <span class="ruby-value">0</span> <span class="ruby-comment"># Will always be preserved as is</span>
          <span class="ruby-keyword">else</span>
            <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">sum</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
              <span class="ruby-identifier">count</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/(\\*)n/</span>).<span class="ruby-identifier">count</span> { <span class="ruby-operator">|</span>(<span class="ruby-identifier">backslashes</span>)<span class="ruby-operator">|</span> <span class="ruby-identifier">backslashes</span>&amp;.<span class="ruby-identifier">length</span>&amp;.<span class="ruby-identifier">odd?</span> }
              <span class="ruby-identifier">count</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">line</span>.<span class="ruby-identifier">end_with?</span>(<span class="ruby-string">&quot;\n&quot;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
              <span class="ruby-identifier">count</span>
            <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">extra</span> = <span class="ruby-value">1</span>
        <span class="ruby-identifier">extra</span> = <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">count</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">percent_array</span> <span class="ruby-comment"># Account for line continuations in percent arrays</span>

        <span class="ruby-identifier">normalized_lengths</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">unescaped_lines_count</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">extra</span>, <span class="ruby-value">0</span>))
        <span class="ruby-identifier">normalized_lengths</span>[<span class="ruby-value">-1</span>] = <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">sum</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">bytesize</span> }
        <span class="ruby-identifier">do_next_tokens</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">unescaped_lines_count</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">extra</span>, <span class="ruby-keyword">false</span>))
        <span class="ruby-identifier">do_next_tokens</span>[<span class="ruby-value">-1</span>] = <span class="ruby-keyword">true</span>
      <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">current_line</span> = <span class="ruby-string">+&quot;&quot;</span>
    <span class="ruby-identifier">current_normalized_length</span> = <span class="ruby-value">0</span>

    <span class="ruby-identifier">emitted_count</span> = <span class="ruby-value">0</span>
    <span class="ruby-identifier">unescaped</span>.<span class="ruby-identifier">filter_map</span>.<span class="ruby-identifier">with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">unescaped_line</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">current_line</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">unescaped_line</span>
      <span class="ruby-identifier">current_normalized_length</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">normalized_lengths</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">index</span>, <span class="ruby-value">0</span>)

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">do_next_tokens</span>[<span class="ruby-identifier">index</span>]
        <span class="ruby-identifier">inner_part</span> = <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_internal</span>([<span class="ruby-identifier">current_line</span>, <span class="ruby-identifier">srange_offsets</span>(<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">start_offset</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">current_normalized_length</span>)])
        <span class="ruby-identifier">start_offset</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">escaped_lengths</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">emitted_count</span>, <span class="ruby-value">0</span>)
        <span class="ruby-identifier">current_line</span> = <span class="ruby-string">+&quot;&quot;</span>
        <span class="ruby-identifier">current_normalized_length</span> = <span class="ruby-value">0</span>
        <span class="ruby-identifier">emitted_count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
        <span class="ruby-identifier">inner_part</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Create parser string nodes from a single prism node. The parser gem â€œgluesâ€ strings together when a line continuation is encountered.</p>
        </div>


      </div>

      <div id="method-i-token" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-token" title="Link to this method">
                <span class="method-name">token</span>
                <span class="method-args">(location)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="token-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 2029</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">token</span>(<span class="ruby-identifier">location</span>)
  [<span class="ruby-identifier">location</span>.<span class="ruby-identifier">slice</span>, <span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">source_buffer</span>, <span class="ruby-identifier">offset_cache</span>[<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span>], <span class="ruby-identifier">offset_cache</span>[<span class="ruby-identifier">location</span>.<span class="ruby-identifier">end_offset</span>])] <span class="ruby-keyword">if</span> <span class="ruby-identifier">location</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Transform a location into a token that the parser gem expects.</p>
        </div>


      </div>

      <div id="method-i-visit_block" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_block" title="Link to this method">
                <span class="method-name">visit_block</span>
                <span class="method-args">(call, block)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_block-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 2034</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_block</span>(<span class="ruby-identifier">call</span>, <span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>
    <span class="ruby-identifier">parameters</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">parameters</span>
    <span class="ruby-identifier">implicit_parameters</span> = <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">NumberedParametersNode</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ItParametersNode</span>)

    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">block</span>(
      <span class="ruby-identifier">call</span>,
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">block</span>.<span class="ruby-identifier">opening_loc</span>),
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">args</span>(<span class="ruby-keyword">nil</span>, [], <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">false</span>)
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">implicit_parameters</span>
        <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">parameters</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">args</span>(
          <span class="ruby-identifier">token</span>(<span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">opening_loc</span>),
          <span class="ruby-keyword">if</span> <span class="ruby-identifier">procarg0?</span>(<span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">parameters</span>)
            <span class="ruby-identifier">parameter</span> = <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">requireds</span>.<span class="ruby-identifier">first</span>
            <span class="ruby-identifier">visited</span> = <span class="ruby-identifier">parameter</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">RequiredParameterNode</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">parameter</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">parameter</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-identifier">copy_compiler</span>(<span class="ruby-value">in_destructure:</span> <span class="ruby-keyword">true</span>))
            [<span class="ruby-identifier">builder</span>.<span class="ruby-identifier">procarg0</span>(<span class="ruby-identifier">visited</span>)].<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">visit_all</span>(<span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">locals</span>))
          <span class="ruby-keyword">else</span>
            <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">parameters</span>)
          <span class="ruby-keyword">end</span>,
          <span class="ruby-identifier">token</span>(<span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">closing_loc</span>),
          <span class="ruby-keyword">false</span>
        )
      <span class="ruby-keyword">end</span>,
      <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">block</span>.<span class="ruby-identifier">body</span>),
      <span class="ruby-identifier">token</span>(<span class="ruby-identifier">block</span>.<span class="ruby-identifier">closing_loc</span>)
    )
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">call</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Visit a block node on a call.</p>
        </div>


      </div>

      <div id="method-i-visit_heredoc" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_heredoc" title="Link to this method">
                <span class="method-name">visit_heredoc</span>
                <span class="method-args">(node) { |children, closing_t| ... }</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_heredoc-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 2069</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_heredoc</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">children</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">indented</span> = <span class="ruby-keyword">false</span>

  <span class="ruby-comment"># If this is a dedenting heredoc, then we need to insert the opening</span>
  <span class="ruby-comment"># content into the children as well.</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;&lt;&lt;~&quot;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">StringNode</span>)
    <span class="ruby-identifier">location</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">location</span>
    <span class="ruby-identifier">location</span> = <span class="ruby-identifier">location</span>.<span class="ruby-identifier">copy</span>(<span class="ruby-value">start_offset:</span> <span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_line_slice</span>.<span class="ruby-identifier">bytesize</span>)
    <span class="ruby-identifier">children</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">string_internal</span>(<span class="ruby-identifier">token</span>(<span class="ruby-identifier">location</span>))
    <span class="ruby-identifier">indented</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">pushing</span> =
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">StringNode</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">content</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)
        <span class="ruby-identifier">string_nodes_from_line_continuations</span>(<span class="ruby-identifier">part</span>.<span class="ruby-identifier">unescaped</span>, <span class="ruby-identifier">part</span>.<span class="ruby-identifier">content</span>, <span class="ruby-identifier">part</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">opening</span>)
      <span class="ruby-keyword">else</span>
        [<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">part</span>)]
      <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">pushing</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:str</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;&quot;</span>
        <span class="ruby-comment"># nothing</span>
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:str</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:str</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">end_with?</span>(<span class="ruby-string">&quot;\n&quot;</span>)
        <span class="ruby-identifier">appendee</span> = <span class="ruby-identifier">children</span>[<span class="ruby-value">-1</span>]

        <span class="ruby-identifier">location</span> = <span class="ruby-identifier">appendee</span>.<span class="ruby-identifier">loc</span>
        <span class="ruby-identifier">location</span> = <span class="ruby-identifier">location</span>.<span class="ruby-identifier">with_expression</span>(<span class="ruby-identifier">location</span>.<span class="ruby-identifier">expression</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">child</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>))

        <span class="ruby-identifier">children</span>[<span class="ruby-value">-1</span>] = <span class="ruby-identifier">appendee</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:str</span>, [<span class="ruby-node">&quot;#{appendee.children.first}#{child.children.first}&quot;</span>], <span class="ruby-value">location:</span> <span class="ruby-identifier">location</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">children</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">child</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">closing</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing</span>
  <span class="ruby-identifier">closing_t</span> = [<span class="ruby-identifier">closing</span>.<span class="ruby-identifier">chomp</span>, <span class="ruby-identifier">srange_offsets</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">closing_loc</span>.<span class="ruby-identifier">end_offset</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">closing</span>[<span class="ruby-regexp">/\s+$/</span>]&amp;.<span class="ruby-identifier">length</span> <span class="ruby-operator">||</span> <span class="ruby-value">0</span>))]
  <span class="ruby-identifier">composed</span> = <span class="ruby-keyword">yield</span> <span class="ruby-identifier">children</span>, <span class="ruby-identifier">closing_t</span>

  <span class="ruby-identifier">composed</span> = <span class="ruby-identifier">composed</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">children</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">indented</span>
  <span class="ruby-identifier">composed</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Visit a heredoc that can be either a string or an xstring.</p>
        </div>


      </div>

      <div id="method-i-visit_numeric" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-visit_numeric" title="Link to this method">
                <span class="method-name">visit_numeric</span>
                <span class="method-args">(node, value)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="visit_numeric-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 2115</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">visit_numeric</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">slice</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">slice</span>).<span class="ruby-identifier">match?</span>(<span class="ruby-regexp">/^[+-]/</span>)
    <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">unary_num</span>(
      [<span class="ruby-identifier">slice</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">srange_offsets</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">location</span>.<span class="ruby-identifier">start_offset</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)],
      <span class="ruby-identifier">value</span>
    )
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">value</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Visit a numeric node and account for the optional sign.</p>
        </div>


      </div>

      <div id="method-i-within_pattern" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-within_pattern" title="Link to this method">
                <span class="method-name">within_pattern</span>
                <span class="method-args">() { |copy_compiler(in_pattern: true)| ... }</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="within_pattern-source">
            <pre><span class="ruby-comment"># File lib/prism/translation/parser/compiler.rb, line 2127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">within_pattern</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">pattern_variables</span>.<span class="ruby-identifier">push</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">copy_compiler</span>(<span class="ruby-value">in_pattern:</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">pattern_variables</span>.<span class="ruby-identifier">pop</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Within the given block, track that weâ€™re within a pattern.</p>
        </div>


      </div>

    </section>

  </section>
</main>

