<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>NEWS - Documentation for Ruby 3.4</title>

  <meta name="keywords" content="ruby,documentation,NEWS">
  <meta name="description" content="NEWS: NEWS for Ruby 3. This document is a list of user-visible feature changes since the **3.">


<link rel="canonical" href="https://docs.ruby-lang.org/en/3.4/NEWS_md.html">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="file">
<div id="navigation-toggle" role="button" tabindex="0" aria-label="Toggle sidebar" aria-expanded="true" aria-controls="navigation">
  <span aria-hidden="true">&#9776;</span>
</div>


<nav id="navigation" role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search (/) for a class, method, ..." spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>



  <ul class="link-list" role="directory">
              <li>
            <details open>
              <summary>      <a href="#label-NEWS+for+Ruby+3.4.0">NEWS for Ruby 3.4.0</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-Language+changes">Language changes</a>
          <li>      <a href="#label-Core+classes+updates">Core classes updates</a>
          <li>      <a href="#label-Stdlib+updates">Stdlib updates</a>
          <li>      <a href="#label-Supported+platforms">Supported platforms</a>
          <li>      <a href="#label-Compatibility+issues">Compatibility issues</a>
          <li>      <a href="#label-Stdlib+compatibility+issues">Stdlib compatibility issues</a>
          <li>      <a href="#label-C+API+updates">C API updates</a>
          <li>
            <details open>
              <summary>      <a href="#label-Implementation+improvements">Implementation improvements</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>
            <details open>
              <summary>      <a href="#label-YJIT">YJIT</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#label-New+features">New features</a>
          <li>      <a href="#label-New+optimizations">New optimizations</a>

              </ul>
            </details>
          </li>

              </ul>
            </details>
          </li>
          <li>      <a href="#label-Miscellaneous+changes">Miscellaneous changes</a>

              </ul>
            </details>
          </li>

  </ul>
</div>

  
<div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
    <li><a href="./COPYING.html">COPYING</a>
    <li><a href="./COPYING_ja.html">COPYING.ja</a>
    <li><a href="./LEGAL.html">LEGAL</a>
    <li><details open><summary><a href="./NEWS_md.html">NEWS</a></summary>
    <ul class="link-list">
      <li><a href="./NEWS/NEWS-1_8_7.html">NEWS-1.8.7</a>
      <li><a href="./NEWS/NEWS-1_9_1.html">NEWS-1.9.1</a>
      <li><a href="./NEWS/NEWS-1_9_2.html">NEWS-1.9.2</a>
      <li><a href="./NEWS/NEWS-1_9_3.html">NEWS-1.9.3</a>
      <li><a href="./NEWS/NEWS-2_0_0.html">NEWS-2.0.0</a>
      <li><a href="./NEWS/NEWS-2_1_0.html">NEWS-2.1.0</a>
      <li><a href="./NEWS/NEWS-2_2_0.html">NEWS-2.2.0</a>
      <li><a href="./NEWS/NEWS-2_3_0.html">NEWS-2.3.0</a>
      <li><a href="./NEWS/NEWS-2_4_0.html">NEWS-2.4.0</a>
      <li><a href="./NEWS/NEWS-2_5_0.html">NEWS-2.5.0</a>
      <li><a href="./NEWS/NEWS-2_6_0.html">NEWS-2.6.0</a>
      <li><a href="./NEWS/NEWS-2_7_0.html">NEWS-2.7.0</a>
      <li><a href="./NEWS/NEWS-3_0_0_md.html">NEWS-3.0.0</a>
      <li><a href="./NEWS/NEWS-3_1_0_md.html">NEWS-3.1.0</a>
      <li><a href="./NEWS/NEWS-3_2_0_md.html">NEWS-3.2.0</a>
      <li><a href="./NEWS/NEWS-3_3_0_md.html">NEWS-3.3.0</a>
    </ul></details>
    <li><a href="./README_ja_md.html">README.ja</a>
    <li><a href="./README_md.html">README</a>
    <li><a href="./bsearch_rdoc.html">bsearch</a>
    <li><a href="./bug_triaging_rdoc.html">bug_triaging</a>
    <li><a href="./case_mapping_rdoc.html">case_mapping</a>
    <li><a href="./character_selectors_rdoc.html">character_selectors</a>
    <li><a href="./command_injection_rdoc.html">command_injection</a>
    <li><details><summary><a href="./contributing_md.html">contributing</a></summary>
    <ul class="link-list">
      <li><a href="./contributing/building_ruby_md.html">building_ruby</a>
      <li><a href="./contributing/documentation_guide_md.html">documentation_guide</a>
      <li><a href="./contributing/glossary_md.html">glossary</a>
      <li><a href="./contributing/making_changes_to_ruby_md.html">making_changes_to_ruby</a>
      <li><a href="./contributing/making_changes_to_stdlibs_md.html">making_changes_to_stdlibs</a>
      <li><a href="./contributing/reporting_issues_md.html">reporting_issues</a>
      <li><a href="./contributing/testing_ruby_md.html">testing_ruby</a>
    </ul></details>
    <li><a href="./date/calendars_rdoc.html">calendars</a>
    <li><a href="./dig_methods_rdoc.html">dig_methods</a>
    <li><a href="./distribution_md.html">distribution</a>
    <li><a href="./dtrace_probes_rdoc.html">dtrace_probes</a>
    <li><a href="./encodings_rdoc.html">encodings</a>
    <li><a href="./exceptions_md.html">exceptions</a>
    <li><a href="./extension_ja_rdoc.html">extension.ja</a>
    <li><a href="./extension_rdoc.html">extension</a>
    <li><a href="./fiber_md.html">fiber</a>
    <li><a href="./format_specifications_rdoc.html">format_specifications</a>
    <li><a href="./globals_rdoc.html">globals</a>
    <li><a href="./implicit_conversion_rdoc.html">implicit_conversion</a>
    <li><a href="./index_md.html">index</a>
    <li><a href="./maintainers_md.html">maintainers</a>
    <li><a href="./marshal_rdoc.html">marshal</a>
    <li><a href="./memory_view_md.html">memory_view</a>
    <li><details><summary>optparse</summary>
    <ul class="link-list">
      <li><a href="./optparse/argument_converters_rdoc.html">argument_converters</a>
      <li><a href="./optparse/creates_option_rdoc.html">creates_option</a>
      <li><a href="./optparse/option_params_rdoc.html">option_params</a>
      <li><a href="./optparse/tutorial_rdoc.html">tutorial</a>
    </ul></details>
    <li><a href="./packed_data_rdoc.html">packed_data</a>
    <li><a href="./ractor_md.html">ractor</a>
    <li><details><summary>regexp</summary>
    <ul class="link-list">
      <li><a href="./regexp/methods_rdoc.html">methods</a>
      <li><a href="./regexp/unicode_properties_rdoc.html">unicode_properties</a>
    </ul></details>
    <li><a href="./rjit/rjit_md.html">rjit</a>
    <li><details><summary>ruby</summary>
    <ul class="link-list">
      <li><a href="./ruby/option_dump_md.html">option_dump</a>
      <li><a href="./ruby/options_md.html">options</a>
    </ul></details>
    <li><a href="./security_rdoc.html">security</a>
    <li><a href="./signals_rdoc.html">signals</a>
    <li><a href="./standard_library_md.html">standard_library</a>
    <li><a href="./strftime_formatting_rdoc.html">strftime_formatting</a>
    <li><details><summary><a href="./syntax_rdoc.html">syntax</a></summary>
    <ul class="link-list">
      <li><a href="./syntax/assignment_rdoc.html">assignment</a>
      <li><a href="./syntax/calling_methods_rdoc.html">calling_methods</a>
      <li><a href="./syntax/comments_rdoc.html">comments</a>
      <li><a href="./syntax/control_expressions_rdoc.html">control_expressions</a>
      <li><a href="./syntax/exceptions_rdoc.html">exceptions</a>
      <li><a href="./syntax/keywords_rdoc.html">keywords</a>
      <li><a href="./syntax/literals_rdoc.html">literals</a>
      <li><a href="./syntax/methods_rdoc.html">methods</a>
      <li><a href="./syntax/miscellaneous_rdoc.html">miscellaneous</a>
      <li><a href="./syntax/modules_and_classes_rdoc.html">modules_and_classes</a>
      <li><a href="./syntax/operators_rdoc.html">operators</a>
      <li><a href="./syntax/pattern_matching_rdoc.html">pattern_matching</a>
      <li><a href="./syntax/precedence_rdoc.html">precedence</a>
      <li><a href="./syntax/refinements_rdoc.html">refinements</a>
    </ul></details>
    <li><a href="./windows_md.html">windows</a>
    <li><a href="./yjit/yjit_md.html">yjit</a>
  </ul>
</div>


  <footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.14.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

</nav>

<main role="main" aria-label="Page NEWS.md">

<h1 id="label-NEWS+for+Ruby+3.4.0"><a href="NEWS_md.html">NEWS</a> for Ruby 3.4.0<span><a href="#label-NEWS+for+Ruby+3.4.0">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>This document is a list of user-visible feature changes since the <strong>3.3.0</strong> release, except for bug fixes.</p>

<p>Note that each entry is kept to a minimum, see links for details.</p>

<h2 id="label-Language+changes">Language changes<span><a href="#label-Language+changes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><code>it</code> is added to reference a block parameter. [<a href="https://bugs.ruby-lang.org/issues/18980">Feature #18980</a>]</p>
</li><li>
<p><a href="String.html"><code>String</code></a> literals in files without a <code>frozen_string_literal</code> comment now emit a deprecation warning when they are mutated. These warnings can be enabled with <code>-W:deprecated</code> or by setting <code>Warning[:deprecated] = true</code>. To disable this change, you can run Ruby with the <code>--disable-frozen-string-literal</code> command line argument. [<a href="https://bugs.ruby-lang.org/issues/20205">Feature #20205</a>]</p>
<ul><li>
<p><a href="String.html#method-i-2B-40"><code>String#+@</code></a> now duplicates when mutating the string would emit a deprecation warning, offered as a replacement for the <code>str.dup if str.frozen?</code> pattern.</p>
</li></ul>
</li><li>
<p>Keyword splatting <code>nil</code> when calling methods is now supported. <code>**nil</code> is treated similarly to <code>**{}</code>, passing no keywords, and not calling any conversion methods. [<a href="https://bugs.ruby-lang.org/issues/20064">Bug #20064</a>]</p>
</li><li>
<p>Block passing is no longer allowed in index assignment (e.g. <code>a[0, &amp;b] = 1</code>). [<a href="https://bugs.ruby-lang.org/issues/19918">Bug #19918</a>]</p>
</li><li>
<p>Keyword arguments are no longer allowed in index assignment (e.g. <code>a[0, kw: 1] = 2</code>). [<a href="https://bugs.ruby-lang.org/issues/20218">Bug #20218</a>]</p>
</li><li>
<p>The toplevel name <code>::Ruby</code> is reserved now, and the definition will be warned when <code>Warning[:deprecated]</code>. [<a href="https://bugs.ruby-lang.org/issues/20884">Feature #20884</a>]</p>
</li></ul>

<h2 id="label-Core+classes+updates">Core classes updates<span><a href="#label-Core+classes+updates">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Note: We’re only listing outstanding class updates.</p>
<ul><li>
<p><a href="Array.html"><code>Array</code></a></p>
<ul><li>
<p><a href="Array.html#method-i-fetch_values"><code>Array#fetch_values</code></a> was added. [<a href="https://bugs.ruby-lang.org/issues/20702">Feature #20702</a>]</p>
</li></ul>
</li><li>
<p><a href="Exception.html"><code>Exception</code></a></p>
<ul><li>
<p><a href="Exception.html#method-i-set_backtrace"><code>Exception#set_backtrace</code></a> now accepts arrays of <a href="Thread/Backtrace/Location.html"><code>Thread::Backtrace::Location</code></a>. <a href="Kernel.html#method-i-raise"><code>Kernel#raise</code></a>, <a href="Thread.html#method-i-raise"><code>Thread#raise</code></a> and <a href="Fiber.html#method-i-raise"><code>Fiber#raise</code></a> also accept this new format. [<a href="https://bugs.ruby-lang.org/issues/13557">Feature #13557</a>]</p>
</li></ul>
</li><li>
<p><a href="Fiber/Scheduler.html"><code>Fiber::Scheduler</code></a></p>
<ul><li>
<p>An optional <a href="Fiber/Scheduler.html#method-i-blocking_operation_wait"><code>Fiber::Scheduler#blocking_operation_wait</code></a> hook allows blocking operations to be moved out of the event loop in order to reduce latency and improve multi-core processor utilization. [<a href="https://bugs.ruby-lang.org/issues/20876">Feature #20876</a>]</p>
</li></ul>
</li><li>
<p><a href="GC.html"><code>GC</code></a></p>
<ul><li>
<p><a href="GC.html#method-c-config"><code>GC.config</code></a> added to allow setting configuration variables on the Garbage Collector. [<a href="https://bugs.ruby-lang.org/issues/20443">Feature #20443</a>]</p>
</li><li>
<p><a href="GC.html"><code>GC</code></a> configuration parameter <code>rgengc_allow_full_mark</code> introduced. When <code>false</code> <a href="GC.html"><code>GC</code></a> will only mark young objects. Default is <code>true</code>. [<a href="https://bugs.ruby-lang.org/issues/20443">Feature #20443</a>]</p>
</li></ul>
</li><li>
<p><a href="Hash.html"><code>Hash</code></a></p>
<ul><li>
<p><a href="Hash.html#method-c-new"><code>Hash.new</code></a> now accepts an optional <code>capacity:</code> argument, to preallocate the hash with a given capacity. This can improve performance when building large hashes incrementally by saving on reallocation and rehashing of keys. [<a href="https://bugs.ruby-lang.org/issues/19236">Feature #19236</a>]</p>
</li></ul>
</li><li>
<p><a href="IO/Buffer.html"><code>IO::Buffer</code></a></p>
<ul><li>
<p><a href="IO/Buffer.html#method-i-copy"><code>IO::Buffer#copy</code></a> can release the GVL, allowing other threads to run while copying data. [<a href="https://bugs.ruby-lang.org/issues/20902">Feature #20902</a>]</p>
</li></ul>
</li><li>
<p><a href="Integer.html"><code>Integer</code></a></p>
<ul><li>
<p><a href="Integer.html#method-i-2A-2A"><code>Integer#**</code></a> used to return <code>Float::INFINITY</code> when the return value is large, but now returns an <a href="Integer.html"><code>Integer</code></a>. If the return value is extremely large, it raises an exception. [<a href="https://bugs.ruby-lang.org/issues/20811">Feature #20811</a>]</p>
</li></ul>
</li><li>
<p><a href="MatchData.html"><code>MatchData</code></a></p>
<ul><li>
<p><a href="MatchData.html#method-i-bytebegin"><code>MatchData#bytebegin</code></a> and <a href="MatchData.html#method-i-byteend"><code>MatchData#byteend</code></a> have been added. [<a href="https://bugs.ruby-lang.org/issues/20576">Feature #20576</a>]</p>
</li></ul>
</li><li>
<p><a href="Object.html"><code>Object</code></a></p>
<ul><li>
<p><a href="Object.html#method-i-singleton_method"><code>Object#singleton_method</code></a> now returns methods in modules prepended to or included in the receiver’s singleton class. [<a href="https://bugs.ruby-lang.org/issues/20620">Bug #20620</a>]</p>

<pre class="ruby"><span class="ruby-identifier">o</span> = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">o</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>{<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">a</span> = <span class="ruby-value">1</span>})
<span class="ruby-identifier">o</span>.<span class="ruby-identifier">singleton_method</span>(<span class="ruby-value">:a</span>).<span class="ruby-identifier">call</span> <span class="ruby-comment">#=&gt; 1</span>
</pre>
</li></ul>
</li><li>
<p><a href="Ractor.html"><code>Ractor</code></a></p>
<ul><li>
<p><code>require</code> in <a href="Ractor.html"><code>Ractor</code></a> is allowed. The requiring process will be run on the main <a href="Ractor.html"><code>Ractor</code></a>. <code>Ractor._require(feature)</code> is added to run requiring process on the main <a href="Ractor.html"><code>Ractor</code></a>. [<a href="https://bugs.ruby-lang.org/issues/20627">Feature #20627</a>]</p>
</li><li>
<p><a href="Ractor.html#method-c-main-3F"><code>Ractor.main?</code></a> is added. [<a href="https://bugs.ruby-lang.org/issues/20627">Feature #20627</a>]</p>
</li><li>
<p><a href="Ractor.html#method-c-5B-5D"><code>Ractor.[]</code></a> and <a href="Ractor.html#method-c-5B-5D-3D"><code>Ractor.[]=</code></a> are added to access the ractor local storage of the current <a href="Ractor.html"><code>Ractor</code></a>. [<a href="https://bugs.ruby-lang.org/issues/20715">Feature #20715</a>]</p>
</li><li>
<p><a href="Ractor.html#method-c-store_if_absent"><code>Ractor.store_if_absent(key){ init }</code></a> is added to initialize ractor local variables in thread-safety. [<a href="https://bugs.ruby-lang.org/issues/20875">Feature #20875</a>]</p>
</li></ul>
</li><li>
<p><a href="Range.html"><code>Range</code></a></p>
<ul><li>
<p><a href="Range.html#method-i-size"><code>Range#size</code></a> now raises <a href="TypeError.html"><code>TypeError</code></a> if the range is not iterable. [<a href="https://bugs.ruby-lang.org/issues/18984">Misc #18984</a>]</p>
</li><li>
<p><a href="Range.html#method-i-step"><code>Range#step</code></a> now consistently has a semantics of iterating by using <code>+</code> operator for all types, not only numerics. [<a href="https://bugs.ruby-lang.org/issues/18368">Feature #18368</a>]</p>

<pre class="ruby">(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2022</span>, <span class="ruby-value">2</span>, <span class="ruby-value">24</span>)<span class="ruby-operator">..</span>).<span class="ruby-identifier">step</span>(<span class="ruby-value">24</span><span class="ruby-operator">*</span><span class="ruby-value">60</span><span class="ruby-operator">*</span><span class="ruby-value">60</span>).<span class="ruby-identifier">take</span>(<span class="ruby-value">3</span>)
<span class="ruby-comment">#=&gt; [2022-02-24 00:00:00 UTC, 2022-02-25 00:00:00 UTC, 2022-02-26 00:00:00 UTC]</span>
</pre>
</li></ul>
</li><li>
<p><a href="Rational.html"><code>Rational</code></a></p>
<ul><li>
<p><a href="Rational.html#method-i-2A-2A"><code>Rational#**</code></a> used to return <code>Float::INFINITY</code> or <code>Float::NAN</code> when the numerator of the return value is large, but now returns an <a href="Rational.html"><code>Rational</code></a>. If it is extremely large, it raises an exception. [<a href="https://bugs.ruby-lang.org/issues/20811">Feature #20811</a>]</p>
</li></ul>
</li><li>
<p><a href="RubyVM/AbstractSyntaxTree.html"><code>RubyVM::AbstractSyntaxTree</code></a></p>
<ul><li>
<p>Add <a href="RubyVM/AbstractSyntaxTree/Node.html#method-i-locations"><code>RubyVM::AbstractSyntaxTree::Node#locations</code></a> method which returns location objects associated with the AST node. [<a href="https://bugs.ruby-lang.org/issues/20624">Feature #20624</a>]</p>
</li><li>
<p>Add <a href="RubyVM/AbstractSyntaxTree/Location.html"><code>RubyVM::AbstractSyntaxTree::Location</code></a> class which holds location information. [<a href="https://bugs.ruby-lang.org/issues/20624">Feature #20624</a>]</p>
</li></ul>
</li><li>
<p><a href="String.html"><code>String</code></a></p>
<ul><li>
<p><a href="String.html#method-i-append_as_bytes"><code>String#append_as_bytes</code></a> was added to more easily and efficiently work with binary buffers and protocols. It directly concatenate the arguments into the string without any encoding validation or conversion. [<a href="https://bugs.ruby-lang.org/issues/20594">Feature #20594</a>]</p>
</li></ul>
</li><li>
<p><a href="Symbol.html"><code>Symbol</code></a></p>
<ul><li>
<p>The string returned by <a href="Symbol.html#method-i-to_s"><code>Symbol#to_s</code></a> now emits a deprecation warning when mutated, and will be frozen in a future version of Ruby. These warnings can be enabled with <code>-W:deprecated</code> or by setting <code>Warning[:deprecated] = true</code>. [<a href="https://bugs.ruby-lang.org/issues/20350">Feature #20350</a>]</p>
</li></ul>
</li><li>
<p><a href="Time.html"><code>Time</code></a></p>
<ul><li>
<p>On Windows, now <a href="Time.html#method-i-zone"><code>Time#zone</code></a> encodes the system timezone name in UTF-8 instead of the active code page, if it contains non-ASCII characters. [<a href="https://bugs.ruby-lang.org/issues/20929">Bug #20929</a>]</p>
</li><li>
<p><a href="Time.html#method-i-xmlschema"><code>Time#xmlschema</code></a>, and its <a href="Time.html#method-i-iso8601"><code>Time#iso8601</code></a> alias have been moved into the core <a href="Time.html"><code>Time</code></a> class while previously it was an extension provided by the <code>time</code> gem. [<a href="https://bugs.ruby-lang.org/issues/20707">Feature #20707</a>]</p>
</li></ul>
</li><li>
<p><a href="Warning.html"><code>Warning</code></a></p>
<ul><li>
<p>Add <a href="Warning.html#method-c-categories"><code>Warning.categories</code></a> method which returns a list of possible warning categories. [<a href="https://bugs.ruby-lang.org/issues/20293">Feature #20293</a>]</p>
</li></ul>
</li></ul>

<h2 id="label-Stdlib+updates">Stdlib updates<span><a href="#label-Stdlib+updates">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>We only list stdlib changes that are notable feature changes.</p>
<ul><li>
<p>RubyGems</p>
<ul><li>
<p>Add <code>--attestation</code> option to gem push. It enabled to store signature of build artifact to sigstore.dev.</p>
</li><li>
<p>Add <code>--attestation</code> option to gem push. It enabled to store signature of build artifact to sigstore.dev.</p>
</li></ul>
</li><li>
<p><a href="Bundler.html"><code>Bundler</code></a></p>
<ul><li>
<p>Add a <code>lockfile_checksums</code> configuration to include checksums in fresh lockfiles.</p>
</li><li>
<p>Add bundle lock <code>--add-checksums</code> to add checksums to an existing lockfile.</p>
</li></ul>
</li><li>
<p><a href="JSON.html"><code>JSON</code></a></p>
<ul><li>
<p>Performance improvements <a href="JSON.html#method-i-parse"><code>JSON.parse</code></a> about 1.5 times faster than json-2.7.x.</p>
</li></ul>
</li><li>
<p><a href="Tempfile.html"><code>Tempfile</code></a></p>
<ul><li>
<p>The keyword argument <code>anonymous: true</code> is implemented for <a href="Tempfile.html#method-c-create"><code>Tempfile.create</code></a>. <a href="Tempfile.html#method-c-create"><code>Tempfile.create(anonymous: true)</code></a> removes the created temporary file immediately. So applications don't need to remove the file. [<a href="https://bugs.ruby-lang.org/issues/20497">Feature #20497</a>]</p>
</li></ul>
</li><li>
<p>win32/sspi.rb</p>
<ul><li>
<p>This library is now extracted from the Ruby repository to <a href="https://github.com/ruby/net-http-sspi">ruby/net-http-sspi</a>. [<a href="https://bugs.ruby-lang.org/issues/20775">Feature #20775</a>]</p>
</li></ul>
</li><li>
<p><a href="Socket.html"><code>Socket</code></a></p>
<ul><li>
<p><a href="Socket/ResolutionError.html"><code>Socket::ResolutionError</code></a> and <a href="Socket/ResolutionError.html#method-i-error_code"><code>Socket::ResolutionError#error_code</code></a> was added. [<a href="https://bugs.ruby-lang.org/issues/20018">Feature #20018</a>]</p>
</li></ul>
</li><li>
<p>IRB</p>
<ul><li>
<p>Interactive method completion is now improved with type information by default. [<a href="https://bugs.ruby-lang.org/issues/20778">Feature #20778</a>]</p>
</li></ul>
</li></ul>

<p>Other changes are listed in the following sections. we also listed release history from the previous bundled version that is Ruby 3.3.0 if it has GitHub releases.</p>

<p>The following default gem is added.</p>
<ul><li>
<p>win32-registry 0.1.0</p>
</li></ul>

<p>The following default gems are updated.</p>
<ul><li>
<p><a href="https://github.com/rubygems/rubygems">RubyGems</a> 3.6.2</p>
<ul><li>
<p>3.5.3 to <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.4">v3.5.4</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.5">v3.5.5</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.6">v3.5.6</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.7">v3.5.7</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.8">v3.5.8</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.9">v3.5.9</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.10">v3.5.10</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.11">v3.5.11</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.12">v3.5.12</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.13">v3.5.13</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.14">v3.5.14</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.15">v3.5.15</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.16">v3.5.16</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.17">v3.5.17</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.18">v3.5.18</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.19">v3.5.19</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.20">v3.5.20</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.21">v3.5.21</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.22">v3.5.22</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.5.23">v3.5.23</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.6.0">v3.6.0</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.6.1">v3.6.1</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/v3.6.2">v3.6.2</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/benchmark">benchmark</a> 0.4.0</p>
<ul><li>
<p>0.3.0 to <a href="https://github.com/ruby/benchmark/releases/tag/v0.4.0">v0.4.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/rubygems/rubygems">bundler</a> 2.6.2</p>
<ul><li>
<p>2.5.3 to <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.4">v2.5.4</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.5">v2.5.5</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.6">v2.5.6</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.7">v2.5.7</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.8">v2.5.8</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.9">v2.5.9</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.10">v2.5.10</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.11">v2.5.11</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.12">v2.5.12</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.13">v2.5.13</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.14">v2.5.14</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.15">v2.5.15</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.16">v2.5.16</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.17">v2.5.17</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.18">v2.5.18</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.19">v2.5.19</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.20">v2.5.20</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.21">v2.5.21</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.22">v2.5.22</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.5.23">v2.5.23</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.6.0">v2.6.0</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.6.1">v2.6.1</a>, <a href="https://github.com/rubygems/rubygems/releases/tag/bundler-v2.6.2">v2.6.2</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/date">date</a> 3.4.1</p>
<ul><li>
<p>3.3.4 to <a href="https://github.com/ruby/date/releases/tag/v3.4.0">v3.4.0</a>, <a href="https://github.com/ruby/date/releases/tag/v3.4.1">v3.4.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/delegate">delegate</a> 0.4.0</p>
<ul><li>
<p>0.3.1 to <a href="https://github.com/ruby/delegate/releases/tag/v0.4.0">v0.4.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/did_you_mean">did_you_mean</a> 2.0.0</p>
<ul><li>
<p>1.6.3 to <a href="https://github.com/ruby/did_you_mean/releases/tag/v2.0.0">v2.0.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/digest">digest</a> 3.2.0</p>
<ul><li>
<p>3.1.1 to <a href="https://github.com/ruby/digest/releases/tag/v3.2.0.pre0">v3.2.0.pre0</a>, <a href="https://github.com/ruby/digest/releases/tag/v3.2.0">v3.2.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/erb">erb</a> 4.0.4</p>
<ul><li>
<p>4.0.3 to <a href="https://github.com/ruby/erb/releases/tag/v4.0.4">v4.0.4</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/error_highlight">error_highlight</a> 0.7.0</p>
<ul><li>
<p>0.6.0 to [<a href="error_highlight-v0.7.0">v0.7.0]</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/etc">etc</a> 1.4.5</p>
<ul><li>
<p>1.4.3 to <a href="https://github.com/ruby/etc/releases/tag/v1.4.4">v1.4.4</a>, <a href="https://github.com/ruby/etc/releases/tag/v1.4.5">v1.4.5</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/fcntl">fcntl</a> 1.2.0</p>
<ul><li>
<p>1.1.0 to <a href="https://github.com/ruby/fcntl/releases/tag/v1.2.0">v1.2.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/fiddle">fiddle</a> 1.1.6</p>
<ul><li>
<p>1.1.2 to <a href="https://github.com/ruby/fiddle/releases/tag/v1.1.3">v1.1.3</a>, <a href="https://github.com/ruby/fiddle/releases/tag/v1.1.4">v1.1.4</a>, <a href="https://github.com/ruby/fiddle/releases/tag/v1.1.5">v1.1.5</a>, <a href="https://github.com/ruby/fiddle/releases/tag/v1.1.6">v1.1.6</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/fileutils">fileutils</a> 1.7.3</p>
<ul><li>
<p>1.7.2 to <a href="https://github.com/ruby/fileutils/releases/tag/v1.7.3">v1.7.3</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/io-console">io-console</a> 0.8.0</p>
<ul><li>
<p>0.7.1 to <a href="https://github.com/ruby/io-console/releases/tag/v0.7.2">v0.7.2</a>, <a href="https://github.com/ruby/io-console/releases/tag/v0.8.0.beta1">v0.8.0.beta1</a>, <a href="https://github.com/ruby/io-console/releases/tag/v0.8.0">v0.8.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/io-nonblock">io-nonblock</a> 0.3.1</p>
<ul><li>
<p>0.3.0 to <a href="https://github.com/ruby/io-nonblock/releases/tag/v0.3.1">v0.3.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/ipaddr">ipaddr</a> 1.2.7</p>
<ul><li>
<p>1.2.6 to <a href="https://github.com/ruby/ipaddr/releases/tag/v1.2.7">v1.2.7</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/irb">irb</a> 1.14.3</p>
<ul><li>
<p>1.11.0 to <a href="https://github.com/ruby/irb/releases/tag/v1.11.1">v1.11.1</a>, <a href="https://github.com/ruby/irb/releases/tag/v1.11.2">v1.11.2</a>, <a href="https://github.com/ruby/irb/releases/tag/v1.12.0">v1.12.0</a>, <a href="https://github.com/ruby/irb/releases/tag/v1.13.0">v1.13.0</a>, <a href="https://github.com/ruby/irb/releases/tag/v1.13.1">v1.13.1</a>, <a href="https://github.com/ruby/irb/releases/tag/v1.13.2">v1.13.2</a>, <a href="https://github.com/ruby/irb/releases/tag/v1.14.0">v1.14.0</a>, <a href="https://github.com/ruby/irb/releases/tag/v1.14.1">v1.14.1</a>, <a href="https://github.com/ruby/irb/releases/tag/v1.14.2">v1.14.2</a>, <a href="https://github.com/ruby/irb/releases/tag/v1.14.3">v1.14.3</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/json">json</a> 2.9.1</p>
<ul><li>
<p>2.7.1 to <a href="https://github.com/ruby/json/releases/tag/v2.7.2">v2.7.2</a>, <a href="https://github.com/ruby/json/releases/tag/v2.7.3.rc1">v2.7.3.rc1</a>, <a href="https://github.com/ruby/json/releases/tag/v2.7.3">v2.7.3</a>, <a href="https://github.com/ruby/json/releases/tag/v2.7.4">v2.7.4</a>, <a href="https://github.com/ruby/json/releases/tag/v2.7.5">v2.7.5</a>, <a href="https://github.com/ruby/json/releases/tag/v2.7.6">v2.7.6</a>, <a href="https://github.com/ruby/json/releases/tag/v2.8.0">v2.8.0</a>, <a href="https://github.com/ruby/json/releases/tag/v2.8.1">v2.8.1</a>, <a href="https://github.com/ruby/json/releases/tag/v2.8.2">v2.8.2</a>, <a href="https://github.com/ruby/json/releases/tag/v2.9.0">v2.9.0</a>, <a href="https://github.com/ruby/json/releases/tag/v2.9.1">v2.9.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/logger">logger</a> 1.6.4</p>
<ul><li>
<p>1.6.0 to <a href="https://github.com/ruby/logger/releases/tag/v1.6.1">v1.6.1</a>, <a href="https://github.com/ruby/logger/releases/tag/v1.6.2">v1.6.2</a>, <a href="https://github.com/ruby/logger/releases/tag/v1.6.3">v1.6.3</a>, <a href="https://github.com/ruby/logger/releases/tag/v1.6.4">v1.6.4</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/net-http">net-http</a> 0.6.0</p>
<ul><li>
<p>0.4.0 to <a href="https://github.com/ruby/net-http/releases/tag/v0.4.1">v0.4.1</a>, <a href="https://github.com/ruby/net-http/releases/tag/v0.5.0">v0.5.0</a>, <a href="https://github.com/ruby/net-http/releases/tag/v0.6.0">v0.6.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/open-uri">open-uri</a> 0.5.0</p>
<ul><li>
<p>0.4.1 to <a href="https://github.com/ruby/open-uri/releases/tag/v0.5.0">v0.5.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/optparse">optparse</a> 0.6.0</p>
<ul><li>
<p>0.4.0 to <a href="https://github.com/ruby/optparse/releases/tag/v0.5.0">v0.5.0</a>, <a href="https://github.com/ruby/optparse/releases/tag/v0.6.0">v0.6.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/ostruct">ostruct</a> 0.6.1</p>
<ul><li>
<p>0.6.0 to <a href="https://github.com/ruby/ostruct/releases/tag/v0.6.1">v0.6.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/pathname">pathname</a> 0.4.0</p>
<ul><li>
<p>0.3.0 to <a href="https://github.com/ruby/pathname/releases/tag/v0.4.0">v0.4.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/pp">pp</a> 0.6.2</p>
<ul><li>
<p>0.5.0 to <a href="https://github.com/ruby/pp/releases/tag/v0.6.0">v0.6.0</a>, <a href="https://github.com/ruby/pp/releases/tag/v0.6.1">v0.6.1</a>, <a href="https://github.com/ruby/pp/releases/tag/v0.6.2">v0.6.2</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/prism">prism</a> 1.2.0</p>
<ul><li>
<p>0.19.0 to <a href="https://github.com/ruby/prism/releases/tag/v0.20.0">v0.20.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v0.21.0">v0.21.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v0.22.0">v0.22.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v0.23.0">v0.23.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v0.24.0">v0.24.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v0.25.0">v0.25.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v0.26.0">v0.26.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v0.27.0">v0.27.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v0.28.0">v0.28.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v0.29.0">v0.29.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v0.30.0">v0.30.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v1.0.0">v1.0.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v1.1.0">v1.1.0</a>, <a href="https://github.com/ruby/prism/releases/tag/v1.2.0">v1.2.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/pstore">pstore</a> 0.1.4</p>
<ul><li>
<p>0.1.3 to <a href="https://github.com/ruby/pstore/releases/tag/v0.1.4">v0.1.4</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/psych">psych</a> 5.2.2</p>
<ul><li>
<p>5.1.2 to <a href="https://github.com/ruby/psych/releases/tag/v5.2.0.beta1">v5.2.0.beta1</a>, <a href="https://github.com/ruby/psych/releases/tag/v5.2.0.beta2">v5.2.0.beta2</a>, <a href="https://github.com/ruby/psych/releases/tag/v5.2.0.beta3">v5.2.0.beta3</a>, <a href="https://github.com/ruby/psych/releases/tag/v5.2.0.beta4">v5.2.0.beta4</a>, <a href="https://github.com/ruby/psych/releases/tag/v5.2.0.beta5">v5.2.0.beta5</a>, <a href="https://github.com/ruby/psych/releases/tag/v5.2.0.beta6">v5.2.0.beta6</a>, <a href="https://github.com/ruby/psych/releases/tag/v5.2.0.beta7">v5.2.0.beta7</a>, <a href="https://github.com/ruby/psych/releases/tag/v5.2.0">v5.2.0</a>, <a href="https://github.com/ruby/psych/releases/tag/v5.2.1">v5.2.1</a>, <a href="https://github.com/ruby/psych/releases/tag/v5.2.2">v5.2.2</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/rdoc">rdoc</a> 6.10.0</p>
<ul><li>
<p>6.6.2 to <a href="https://github.com/ruby/rdoc/releases/tag/v6.7.0">v6.7.0</a>, <a href="https://github.com/ruby/rdoc/releases/tag/v6.8.0">v6.8.0</a>, <a href="https://github.com/ruby/rdoc/releases/tag/v6.8.1">v6.8.1</a>, <a href="https://github.com/ruby/rdoc/releases/tag/v6.9.0">v6.9.0</a>, <a href="https://github.com/ruby/rdoc/releases/tag/v6.9.1">v6.9.1</a>, <a href="https://github.com/ruby/rdoc/releases/tag/v6.10.0">v6.10.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/reline">reline</a> 0.6.0</p>
<ul><li>
<p>0.4.1 to <a href="https://github.com/ruby/reline/releases/tag/v0.4.2">v0.4.2</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.4.3">v0.4.3</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.0.pre.1">v0.5.0.pre.1</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.0">v0.5.0</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.1">v0.5.1</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.2">v0.5.2</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.3">v0.5.3</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.4">v0.5.4</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.5">v0.5.5</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.6">v0.5.6</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.7">v0.5.7</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.8">v0.5.8</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.9">v0.5.9</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.10">v0.5.10</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.11">v0.5.11</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.5.12">v0.5.12</a>, <a href="https://github.com/ruby/reline/releases/tag/v0.6.0">v0.6.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/resolv">resolv</a> 0.6.0</p>
<ul><li>
<p>0.3.0 to <a href="https://github.com/ruby/resolv/releases/tag/v0.4.0">v0.4.0</a>, <a href="https://github.com/ruby/resolv/releases/tag/v0.5.0">v0.5.0</a>, <a href="https://github.com/ruby/resolv/releases/tag/v0.6.0">v0.6.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/securerandom">securerandom</a> 0.4.1</p>
<ul><li>
<p>0.3.1 to <a href="https://github.com/ruby/securerandom/releases/tag/v0.3.2">v0.3.2</a>, <a href="https://github.com/ruby/securerandom/releases/tag/v0.4.0">v0.4.0</a>, <a href="https://github.com/ruby/securerandom/releases/tag/v0.4.1">v0.4.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/set">set</a> 1.1.1</p>
<ul><li>
<p>1.1.0 to <a href="https://github.com/ruby/set/releases/tag/v1.1.1">v1.1.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/shellwords">shellwords</a> 0.2.2</p>
<ul><li>
<p>0.2.0 to <a href="https://github.com/ruby/shellwords/releases/tag/v0.2.1">v0.2.1</a>, <a href="https://github.com/ruby/shellwords/releases/tag/v0.2.2">v0.2.2</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/singleton">singleton</a> 0.3.0</p>
<ul><li>
<p>0.2.0 to <a href="https://github.com/ruby/singleton/releases/tag/v0.3.0">v0.3.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/stringio">stringio</a> 3.1.2</p>
<ul><li>
<p>3.1.0 to <a href="https://github.com/ruby/stringio/releases/tag/v3.1.1">v3.1.1</a>, <a href="https://github.com/ruby/stringio/releases/tag/v3.1.2">v3.1.2</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/strscan">strscan</a> 3.1.2</p>
<ul><li>
<p>3.0.7 to <a href="https://github.com/ruby/strscan/releases/tag/v3.0.8">v3.0.8</a>, <a href="https://github.com/ruby/strscan/releases/tag/v3.0.9">v3.0.9</a>, <a href="https://github.com/ruby/strscan/releases/tag/v3.1.0">v3.1.0</a>, <a href="https://github.com/ruby/strscan/releases/tag/v3.1.1">v3.1.1</a>, <a href="https://github.com/ruby/strscan/releases/tag/v3.1.2">v3.1.2</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/syntax_suggest">syntax_suggest</a> 2.0.2</p>
<ul><li>
<p>2.0.0 to <a href="https://github.com/ruby/syntax_suggest/releases/tag/v2.0.1">v2.0.1</a>, <a href="https://github.com/ruby/syntax_suggest/releases/tag/v2.0.2">v2.0.2</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/tempfile">tempfile</a> 0.3.1</p>
<ul><li>
<p>0.2.1 to <a href="https://github.com/ruby/tempfile/releases/tag/v0.3.0">v0.3.0</a>, <a href="https://github.com/ruby/tempfile/releases/tag/v0.3.1">v0.3.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/time">time</a> 0.4.1</p>
<ul><li>
<p>0.3.0 to <a href="https://github.com/ruby/time/releases/tag/v0.4.0">v0.4.0</a>, <a href="https://github.com/ruby/time/releases/tag/v0.4.1">v0.4.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/timeout">timeout</a> 0.4.3</p>
<ul><li>
<p>0.4.1 to <a href="https://github.com/ruby/timeout/releases/tag/v0.4.2">v0.4.2</a>, <a href="https://github.com/ruby/timeout/releases/tag/v0.4.3">v0.4.3</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/tmpdir">tmpdir</a> 0.3.1</p>
<ul><li>
<p>0.2.0 to <a href="https://github.com/ruby/tmpdir/releases/tag/v0.3.0">v0.3.0</a>, <a href="https://github.com/ruby/tmpdir/releases/tag/v0.3.1">v0.3.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/uri">uri</a> 1.0.2</p>
<ul><li>
<p>0.13.0 to <a href="https://github.com/ruby/uri/releases/tag/v0.13.1">v0.13.1</a>, <a href="https://github.com/ruby/uri/releases/tag/v1.0.0">v1.0.0</a>, <a href="https://github.com/ruby/uri/releases/tag/v1.0.1">v1.0.1</a>, <a href="https://github.com/ruby/uri/releases/tag/v1.0.2">v1.0.2</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/win32ole">win32ole</a> 1.9.1</p>
<ul><li>
<p>1.8.10 to <a href="https://github.com/ruby/win32ole/releases/tag/v1.9.0">v1.9.0</a>, <a href="https://github.com/ruby/win32ole/releases/tag/v1.9.1">v1.9.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/yaml">yaml</a> 0.4.0</p>
<ul><li>
<p>0.3.0 to <a href="https://github.com/ruby/yaml/releases/tag/v0.4.0">v0.4.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/zlib">zlib</a> 3.2.1</p>
<ul><li>
<p>3.1.0 to <a href="https://github.com/ruby/zlib/releases/tag/v3.1.1">v3.1.1</a>, <a href="https://github.com/ruby/zlib/releases/tag/v3.2.0">v3.2.0</a>, <a href="https://github.com/ruby/zlib/releases/tag/v3.2.1">v3.2.1</a></p>
</li></ul>
</li></ul>

<p>The following bundled gem is added.</p>
<ul><li>
<p><a href="https://github.com/ruby/repl_type_completor">repl_type_completor</a> 0.1.9</p>
</li></ul>

<p>The following bundled gems are updated.</p>
<ul><li>
<p><a href="https://github.com/seattlerb/minitest">minitest</a> 5.25.4</p>
<ul><li>
<p>5.20.0 to <a href="https://github.com/seattlerb/minitest/releases/tag/v5.25.4">v5.25.4</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/power_assert">power_assert</a> 2.0.5</p>
<ul><li>
<p>2.0.3 to <a href="https://github.com/ruby/power_assert/releases/tag/v2.0.4">v2.0.4</a>, <a href="https://github.com/ruby/power_assert/releases/tag/v2.0.5">v2.0.5</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/rake">rake</a> 13.2.1</p>
<ul><li>
<p>13.1.0 to <a href="https://github.com/ruby/rake/releases/tag/v13.2.0">v13.2.0</a>, <a href="https://github.com/ruby/rake/releases/tag/v13.2.1">v13.2.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/test-unit/test-unit">test-unit</a> 3.6.7</p>
<ul><li>
<p>3.6.1 to <a href="https://github.com/test-unit/test-unit/releases/tag/3.6.2">3.6.2</a>, <a href="https://github.com/test-unit/test-unit/releases/tag/3.6.3">3.6.3</a>, <a href="https://github.com/test-unit/test-unit/releases/tag/3.6.4">3.6.4</a>, <a href="https://github.com/test-unit/test-unit/releases/tag/3.6.5">3.6.5</a>, <a href="https://github.com/test-unit/test-unit/releases/tag/3.6.6">3.6.6</a>, <a href="https://github.com/test-unit/test-unit/releases/tag/3.6.7">3.6.7</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/rexml">rexml</a> 3.4.0</p>
<ul><li>
<p>3.2.6 to <a href="https://github.com/ruby/rexml/releases/tag/v3.2.7">v3.2.7</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.2.8">v3.2.8</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.2.9">v3.2.9</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.3.0">v3.3.0</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.3.1">v3.3.1</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.3.2">v3.3.2</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.3.3">v3.3.3</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.3.4">v3.3.4</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.3.5">v3.3.5</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.3.6">v3.3.6</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.3.7">v3.3.7</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.3.8">v3.3.8</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.3.9">v3.3.9</a>, <a href="https://github.com/ruby/rexml/releases/tag/v3.4.0">v3.4.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/rss">rss</a> 0.3.1</p>
<ul><li>
<p>0.3.0 to <a href="https://github.com/ruby/rss/releases/tag/0.3.1">0.3.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/net-ftp">net-ftp</a> 0.3.8</p>
<ul><li>
<p>0.3.3 to <a href="https://github.com/ruby/net-ftp/releases/tag/v0.3.4">v0.3.4</a>, <a href="https://github.com/ruby/net-ftp/releases/tag/v0.3.5">v0.3.5</a>, <a href="https://github.com/ruby/net-ftp/releases/tag/v0.3.6">v0.3.6</a>, <a href="https://github.com/ruby/net-ftp/releases/tag/v0.3.7">v0.3.7</a>, <a href="https://github.com/ruby/net-ftp/releases/tag/v0.3.8">v0.3.8</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/net-imap">net-imap</a> 0.5.4</p>
<ul><li>
<p>0.4.9 to <a href="https://github.com/ruby/net-imap/releases/tag/v0.4.9.1">v0.4.9.1</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.4.10">v0.4.10</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.4.11">v0.4.11</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.4.12">v0.4.12</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.4.13">v0.4.13</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.4.14">v0.4.14</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.4.15">v0.4.15</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.4.16">v0.4.16</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.4.17">v0.4.17</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.5.0">v0.5.0</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.4.18">v0.4.18</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.5.1">v0.5.1</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.5.2">v0.5.2</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.5.3">v0.5.3</a>, <a href="https://github.com/ruby/net-imap/releases/tag/v0.5.4">v0.5.4</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/net-smtp">net-smtp</a> 0.5.0</p>
<ul><li>
<p>0.4.0 to <a href="https://github.com/ruby/net-smtp/releases/tag/v0.4.0.1">v0.4.0.1</a>, <a href="https://github.com/ruby/net-smtp/releases/tag/v0.5.0">v0.5.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/prime">prime</a> 0.1.3</p>
<ul><li>
<p>0.1.2 to <a href="https://github.com/ruby/prime/releases/tag/v0.1.3">v0.1.3</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/rbs">rbs</a> 3.8.0</p>
<ul><li>
<p>3.4.0 to <a href="https://github.com/ruby/rbs/releases/tag/v3.4.1">v3.4.1</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.4.2">v3.4.2</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.4.3">v3.4.3</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.4.4">v3.4.4</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.5.0.pre.1">v3.5.0.pre.1</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.5.0.pre.2">v3.5.0.pre.2</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.5.0">v3.5.0</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.5.1">v3.5.1</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.5.2">v3.5.2</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.5.3">v3.5.3</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.6.0.dev.1">v3.6.0.dev.1</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.6.0.pre.1">v3.6.0.pre.1</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.6.0.pre.2">v3.6.0.pre.2</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.6.0.pre.3">v3.6.0.pre.3</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.6.0">v3.6.0</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.6.1">v3.6.1</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.7.0.dev.1">v3.7.0.dev.1</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.7.0.pre.1">v3.7.0.pre.1</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.7.0">v3.7.0</a>, <a href="https://github.com/ruby/rbs/releases/tag/v3.8.0.pre.1">v3.8.0.pre.1</a> <a href="https://github.com/ruby/rbs/releases/tag/v3.8.0">v3.8.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/typeprof">typeprof</a> 0.30.1</p>
<ul><li>
<p>0.21.9 to <a href="https://github.com/ruby/typeprof/releases/tag/v0.30.1">v0.30.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/debug">debug</a> 1.10.0</p>
<ul><li>
<p>1.9.1 to <a href="https://github.com/ruby/debug/releases/tag/v1.9.2">v1.9.2</a>, <a href="https://github.com/ruby/debug/releases/tag/v1.10.0">v1.10.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/racc">racc</a> 1.8.1</p>
<ul><li>
<p>1.7.3 to <a href="https://github.com/ruby/racc/releases/tag/v1.8.0">v1.8.0</a>, <a href="https://github.com/ruby/racc/releases/tag/v1.8.1">v1.8.1</a></p>
</li></ul>
</li></ul>

<p>The following bundled gems are promoted from default gems.</p>
<ul><li>
<p><a href="https://github.com/ruby/mutex_m">mutex_m</a> 0.3.0</p>
<ul><li>
<p>0.2.0 to <a href="https://github.com/ruby/mutex_m/releases/tag/v0.3.0">v0.3.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/getoptlong">getoptlong</a> 0.2.1</p>
</li><li>
<p><a href="https://github.com/ruby/base64">base64</a> 0.2.0</p>
</li><li>
<p><a href="https://github.com/ruby/bigdecimal">bigdecimal</a> 3.1.8</p>
<ul><li>
<p>3.1.5 to <a href="https://github.com/ruby/bigdecimal/releases/tag/v3.1.6">v3.1.6</a>, <a href="https://github.com/ruby/bigdecimal/releases/tag/v3.1.7">v3.1.7</a>, <a href="https://github.com/ruby/bigdecimal/releases/tag/v3.1.8">v3.1.8</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/observer">observer</a> 0.1.2</p>
</li><li>
<p><a href="https://github.com/ruby/abbrev">abbrev</a> 0.1.2</p>
</li><li>
<p><a href="https://github.com/ruby/resolv-replace">resolv-replace</a> 0.1.1</p>
</li><li>
<p><a href="https://github.com/ruby/rinda">rinda</a> 0.2.0</p>
</li><li>
<p><a href="https://github.com/ruby/drb">drb</a> 2.2.1</p>
<ul><li>
<p>2.2.0 to <a href="https://github.com/ruby/drb/releases/tag/v2.2.1">v2.2.1</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/nkf">nkf</a> 0.2.0</p>
<ul><li>
<p>0.1.3 to <a href="https://github.com/ruby/nkf/releases/tag/v0.2.0">v0.2.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/syslog">syslog</a> 0.2.0</p>
<ul><li>
<p>0.1.2 to <a href="https://github.com/ruby/syslog/releases/tag/v0.2.0">v0.2.0</a></p>
</li></ul>
</li><li>
<p><a href="https://github.com/ruby/csv">csv</a> 3.3.2</p>
<ul><li>
<p>3.2.8 to <a href="https://github.com/ruby/csv/releases/tag/v3.2.9">v3.2.9</a>, <a href="https://github.com/ruby/csv/releases/tag/v3.3.0">v3.3.0</a>, <a href="https://github.com/ruby/csv/releases/tag/v3.3.1">v3.3.1</a>, <a href="https://github.com/ruby/csv/releases/tag/v3.3.2">v3.3.2</a></p>
</li></ul>
</li></ul>

<h2 id="label-Supported+platforms">Supported platforms<span><a href="#label-Supported+platforms">&para;</a> <a href="#top">&uarr;</a></span></h2>

<h2 id="label-Compatibility+issues">Compatibility issues<span><a href="#label-Compatibility+issues">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Error messages and backtrace displays have been changed.</p>
<ul><li>
<p>Use a single quote instead of a backtick as an opening quote. [<a href="https://bugs.ruby-lang.org/issues/16495">Feature #16495</a>]</p>
</li><li>
<p>Display a class name before a method name (only when the class has a permanent name). [<a href="https://bugs.ruby-lang.org/issues/19117">Feature #19117</a>]</p>
</li><li>
<p>Extra <code>rescue</code>/<code>ensure</code> frames are no longer available on the backtrace. [<a href="https://bugs.ruby-lang.org/issues/20275">Feature #20275</a>]</p>
</li><li>
<p><a href="Kernel.html#method-i-caller"><code>Kernel#caller</code></a>, <a href="Thread/Backtrace/Location.html"><code>Thread::Backtrace::Location</code></a>’s methods, etc. are also changed accordingly.</p>

<p>Old:</p>

<pre>test.rb:1:in `foo&#39;: undefined method `time&#39; for an instance of Integer
        from test.rb:2:in `&lt;main&gt;&#39;</pre>

<p>New:</p>

<pre>test.rb:1:in &#39;Object#foo&#39;: undefined method &#39;time&#39; for an instance of Integer
        from test.rb:2:in &#39;&lt;main&gt;&#39;</pre>
</li></ul>
</li><li>
<p><a href="Hash.html#method-i-inspect"><code>Hash#inspect</code></a> rendering have been changed. [<a href="https://bugs.ruby-lang.org/issues/20433">Bug #20433</a>]</p>
<ul><li>
<p><a href="Symbol.html"><code>Symbol</code></a> keys are displayed using the modern symbol key syntax: <code>&quot;{user: 1}&quot;</code></p>
</li><li>
<p>Other keys now have spaces around <code>=&gt;</code>: <code>&#39;{&quot;user&quot; =&gt; 1}&#39;</code>, while previously they didn’t: <code>&#39;{&quot;user&quot;=&gt;1}&#39;</code></p>
</li></ul>
</li><li>
<p><a href="Kernel.html#method-i-Float"><code>Kernel#Float()</code></a> now accepts a decimal string with decimal part omitted. [<a href="https://bugs.ruby-lang.org/issues/20705">Feature #20705</a>]</p>

<pre class="ruby"><span class="ruby-constant">Float</span>(<span class="ruby-string">&quot;1.&quot;</span>)    <span class="ruby-comment">#=&gt; 1.0 (previously, an ArgumentError was raised)</span>
<span class="ruby-constant">Float</span>(<span class="ruby-string">&quot;1.E-1&quot;</span>) <span class="ruby-comment">#=&gt; 0.1 (previously, an ArgumentError was raised)</span>
</pre>
</li><li>
<p><a href="String.html#method-i-to_f"><code>String#to_f</code></a> now accepts a decimal string with decimal part omitted. [<a href="https://bugs.ruby-lang.org/issues/20705">Feature #20705</a>] Note that the result changes when an exponent is specified.</p>

<pre class="ruby"><span class="ruby-string">&quot;1.&quot;</span>.<span class="ruby-identifier">to_f</span>    <span class="ruby-comment">#=&gt; 1.0</span>
<span class="ruby-string">&quot;1.E-1&quot;</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-comment">#=&gt; 0.1 (previously, 1.0 was returned)</span>
</pre>
</li><li>
<p><code>Refinement#refined_class</code> has been removed. [<a href="https://bugs.ruby-lang.org/issues/19714">Feature #19714</a>]</p>
</li></ul>

<h2 id="label-Stdlib+compatibility+issues">Stdlib compatibility issues<span><a href="#label-Stdlib+compatibility+issues">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><a href="DidYouMean.html"><code>DidYouMean</code></a></p>
<ul><li>
<p><code>DidYouMean::SPELL_CHECKERS[]=</code> and <code>DidYouMean::SPELL_CHECKERS.merge!</code> are removed.</p>
</li></ul>
</li><li>
<p><a href="Net/HTTP.html"><code>Net::HTTP</code></a></p>
<ul><li>
<p>Removed the following deprecated constants:</p>
<ul><li>
<p><code>Net::HTTP::ProxyMod</code></p>
</li><li>
<p><code>Net::NetPrivate::HTTPRequest</code></p>
</li><li>
<p><code>Net::HTTPInformationCode</code></p>
</li><li>
<p><code>Net::HTTPSuccessCode</code></p>
</li><li>
<p><code>Net::HTTPRedirectionCode</code></p>
</li><li>
<p><code>Net::HTTPRetriableCode</code></p>
</li><li>
<p><code>Net::HTTPClientErrorCode</code></p>
</li><li>
<p><code>Net::HTTPFatalErrorCode</code></p>
</li><li>
<p><code>Net::HTTPServerErrorCode</code></p>
</li><li>
<p><code>Net::HTTPResponseReceiver</code></p>
</li><li>
<p><code>Net::HTTPResponceReceiver</code></p>
</li></ul>
</li></ul>

<p> These constants were deprecated from 2012.</p>
</li><li>
<p><a href="Timeout.html"><code>Timeout</code></a></p>
<ul><li>
<p>Reject negative values for <a href="Timeout.html#method-c-timeout"><code>Timeout.timeout</code></a>. [<a href="https://bugs.ruby-lang.org/issues/20795">Bug #20795</a>]</p>
</li></ul>
</li><li>
<p><a href="URI.html"><code>URI</code></a></p>
<ul><li>
<p>Switched default parser to RFC 3986 compliant from RFC 2396 compliant. [<a href="https://bugs.ruby-lang.org/issues/19266">Bug #19266</a>]</p>
</li></ul>
</li></ul>

<h2 id="label-C+API+updates">C API updates<span><a href="#label-C+API+updates">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><code>rb_newobj</code> and <code>rb_newobj_of</code> (and corresponding macros <code>RB_NEWOBJ</code>, <code>RB_NEWOBJ_OF</code>, <code>NEWOBJ</code>, <code>NEWOBJ_OF</code>) have been removed. [<a href="https://bugs.ruby-lang.org/issues/20265">Feature #20265</a>]</p>
</li><li>
<p>Removed deprecated function <code>rb_gc_force_recycle</code>. [<a href="https://bugs.ruby-lang.org/issues/18290">Feature #18290</a>]</p>
</li></ul>

<h2 id="label-Implementation+improvements">Implementation improvements<span><a href="#label-Implementation+improvements">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>The default parser is now <a href="Prism.html"><code>Prism</code></a>. To use the conventional parser, use the command-line argument <code>--parser=parse.y</code>. [<a href="https://bugs.ruby-lang.org/issues/20564">Feature #20564</a>]</p>
</li><li>
<p>Happy Eyeballs version 2 (RFC8305), an algorithm that ensures faster and more reliable connections by attempting IPv6 and IPv4 concurrently, is used in <a href="Socket.html#method-c-tcp"><code>Socket.tcp</code></a> and <a href="TCPSocket.html#method-c-new"><code>TCPSocket.new</code></a>. To disable it globally, set the environment variable <code>RUBY_TCP_NO_FAST_FALLBACK=1</code> or call <a href="Socket.html#method-c-tcp_fast_fallback-3D"><code>Socket.tcp_fast_fallback=false</code></a>. Or to disable it on a per-method basis, use the keyword argument <code>fast_fallback: false</code>. [<a href="https://bugs.ruby-lang.org/issues/20108">Feature #20108</a>] [<a href="https://bugs.ruby-lang.org/issues/20782">Feature #20782</a>]</p>
</li><li>
<p>Alternative garbage collector (<a href="GC.html"><code>GC</code></a>) implementations can be loaded dynamically through the modular garbage collector feature. To enable this feature, configure Ruby with <code>--with-modular-gc</code> at build time. <a href="GC.html"><code>GC</code></a> libraries can be loaded at runtime using the environment variable <code>RUBY_GC_LIBRARY</code>. [<a href="https://bugs.ruby-lang.org/issues/20351">Feature #20351</a>]</p>
</li><li>
<p>Ruby's built-in garbage collector has been split into a separate file at <code>gc/default/default.c</code> and interacts with Ruby using an API defined in <code>gc/gc_impl.h</code>. The built-in garbage collector can now also be built as a library using <code>make modular-gc MODULAR_GC=default</code> and enabled using the environment variable <code>RUBY_GC_LIBRARY=default</code>. [<a href="https://bugs.ruby-lang.org/issues/20470">Feature #20470</a>]</p>
</li><li>
<p>An experimental <a href="GC.html"><code>GC</code></a> library is provided based on <a href="https://www.mmtk.io/">MMTk</a>. This <a href="GC.html"><code>GC</code></a> library can be built using <code>make modular-gc MODULAR_GC=mmtk</code> and enabled using the environment variable <code>RUBY_GC_LIBRARY=mmtk</code>. This requires the Rust toolchain on the build machine. [<a href="https://bugs.ruby-lang.org/issues/20860">Feature #20860</a>]</p>
</li></ul>

<h3 id="label-YJIT">YJIT<span><a href="#label-YJIT">&para;</a> <a href="#top">&uarr;</a></span></h3>

<h4 id="label-New+features">New features<span><a href="#label-New+features">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>Command-line options</p>
<ul><li>
<p><code>--yjit-mem-size</code> introduces a unified memory limit (default 128MiB) to track total YJIT memory usage, providing a more intuitive alternative to the old <code>--yjit-exec-mem-size</code> option.</p>
</li><li>
<p><code>--yjit-trace-exits=COUNTER</code> allows tracing of counted exits and fallbacks.</p>
</li><li>
<p><code>--yjit-perf=codegen</code> allows profiling of JIT code based on YJIT’s codegen functions.</p>
</li><li>
<p><code>--yjit-log</code> enables a compilation log to track what gets compiled.</p>
</li></ul>
</li><li>
<p>Ruby API</p>
<ul><li>
<p><a href="RubyVM/YJIT.html#method-c-enable"><code>RubyVM::YJIT.enable(log: true)</code></a> also enables a compilation log.</p>
</li><li>
<p><a href="RubyVM/YJIT.html#method-c-log"><code>RubyVM::YJIT.log</code></a> provides access to the tail of the compilation log at run-time.</p>
</li></ul>
</li><li>
<p>YJIT stats</p>
<ul><li>
<p><a href="RubyVM/YJIT.html#method-c-runtime_stats"><code>RubyVM::YJIT.runtime_stats</code></a> now always provides additional statistics on invalidation, inlining, and metadata encoding.</p>
</li><li>
<p><a href="RubyVM/YJIT.html#method-c-runtime_stats"><code>RubyVM::YJIT.runtime_stats[:iseq_calls]</code></a> is added to profile non-inlined Ruby method calls.</p>
</li><li>
<p><a href="RubyVM/YJIT.html#method-c-runtime_stats"><code>RubyVM::YJIT.runtime_stats[:cfunc_calls]</code></a> is truncated to the top 20 entries for better performance.</p>
</li></ul>
</li></ul>

<h4 id="label-New+optimizations">New optimizations<span><a href="#label-New+optimizations">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p>Compressed context reduces memory needed to store YJIT metadata</p>
</li><li>
<p>Allocate registers for local variables and Ruby method arguments</p>
</li><li>
<p>When YJIT is enabled, use more Core primitives written in Ruby:</p>
<ul><li>
<p><a href="Array.html#method-i-each"><code>Array#each</code></a>, <a href="Array.html#method-i-select"><code>Array#select</code></a>, <a href="Array.html#method-i-map"><code>Array#map</code></a> rewritten in Ruby for better performance [<a href="https://bugs.ruby-lang.org/issues/20182">Feature #20182</a>].</p>
</li></ul>
</li><li>
<p>Ability to inline small/trivial methods such as:</p>
<ul><li>
<p>Empty methods</p>
</li><li>
<p>Methods returning a constant</p>
</li><li>
<p>Methods returning <code>self</code></p>
</li><li>
<p>Methods directly returning an argument</p>
</li></ul>
</li><li>
<p>Specialized codegen for many more runtime methods</p>
</li><li>
<p>Optimize <a href="String.html#method-i-getbyte"><code>String#getbyte</code></a>, <a href="String.html#method-i-setbyte"><code>String#setbyte</code></a> and other string methods</p>
</li><li>
<p>Optimize bitwise operations to speed up low-level bit/byte manipulation</p>
</li><li>
<p>Support shareable constants in multi-ractor mode</p>
</li><li>
<p>Various other incremental optimizations</p>
</li></ul>

<h2 id="label-Miscellaneous+changes">Miscellaneous changes<span><a href="#label-Miscellaneous+changes">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Passing a block to a method which doesn't use the passed block will show a warning on verbose mode (<code>-w</code>). In connection with this, a new <code>strict_unused_block</code> warning category was introduced. Turn them on with <code>-W:strict_unused_block</code> or <code>Warning[:strict_unused_block] = true</code>. [<a href="https://bugs.ruby-lang.org/issues/15554">Feature #15554</a>]</p>
</li><li>
<p>Redefining some core methods that are specially optimized by the interpreter and JIT like <a href="Object.html#method-i-freeze"><code>String#freeze</code></a> or <a href="Integer.html#method-i-2B"><code>Integer#+</code></a> now emits a performance class warning (<code>-W:performance</code> or <code>Warning[:performance] = true</code>). [<a href="https://bugs.ruby-lang.org/issues/20429">Feature #20429</a>]</p>
</li></ul>

</main>

